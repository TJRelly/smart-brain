{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizePathTrailingSlash = void 0;\n\nvar _removeTrailingSlash = require(\"../shared/lib/router/utils/remove-trailing-slash\");\n\nvar _parsePath = require(\"../shared/lib/router/utils/parse-path\");\n\nconst normalizePathTrailingSlash = path => {\n  if (!path.startsWith('/') || process.env.__NEXT_MANUAL_TRAILING_SLASH) {\n    return path;\n  }\n\n  const {\n    pathname,\n    query,\n    hash\n  } = (0, _parsePath).parsePath(path);\n\n  if (process.env.__NEXT_TRAILING_SLASH) {\n    if (/\\.[^/]+\\/?$/.test(pathname)) {\n      return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n    } else if (pathname.endsWith('/')) {\n      return `${pathname}${query}${hash}`;\n    } else {\n      return `${pathname}/${query}${hash}`;\n    }\n  }\n\n  return `${(0, _removeTrailingSlash).removeTrailingSlash(pathname)}${query}${hash}`;\n};\n\nexports.normalizePathTrailingSlash = normalizePathTrailingSlash;\n\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"mappings":"AAAA;;;;;;;AAAoC,wBAAkD,WAAlD,kDAAkD,CAAlD;;AACV,cAAuC,WAAvC,uCAAuC,CAAvC;;AAMnB,MAAMA,0BAA0B,GAAIC,IAAD,IAAkB;EAC1D,IAAI,CAACA,IAAI,CAACC,UAALD,CAAgB,GAAhBA,CAAD,IAAyBE,OAAO,CAACC,GAARD,CAAYE,4BAAzC,EAAuE;IACrE,OAAOJ,IAAP;EACD;;EAED,MAAM;IAAEK,QAAF;IAAYC,KAAZ;IAAmBC;EAAnB,IAA4BC,gBAAeA,SAAfA,CAAUR,IAAVQ,CAAlC;;EACA,IAAIN,OAAO,CAACC,GAARD,CAAYO,qBAAhB,EAAuC;IACrC,IAAI,cAAcC,IAAd,CAAmBL,QAAnB,CAAJ,EAAkC;MAChC,OAAQ,GAAEM,0BAA6BA,mBAA7BA,CAAoBN,QAApBM,CAA8B,GAAEL,KAAM,GAAEC,IAAK,EAAvD;IACD,CAFD,MAEO,IAAIF,QAAQ,CAACO,QAATP,CAAkB,GAAlBA,CAAJ,EAA4B;MACjC,OAAQ,GAAEA,QAAS,GAAEC,KAAM,GAAEC,IAAK,EAAlC;IACD,CAFM,MAEA;MACL,OAAQ,GAAEF,QAAS,IAAGC,KAAM,GAAEC,IAAK,EAAnC;IACD;EACF;;EAED,OAAQ,GAAEI,0BAA6BA,mBAA7BA,CAAoBN,QAApBM,CAA8B,GAAEL,KAAM,GAAEC,IAAK,EAAvD;AACD,CAjBM;;QAAMR","names":["normalizePathTrailingSlash","path","startsWith","process","env","__NEXT_MANUAL_TRAILING_SLASH","pathname","query","hash","parsePath","__NEXT_TRAILING_SLASH","test","removeTrailingSlash","endsWith"],"sources":["../../../src/client/normalize-trailing-slash.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}