{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.markAssetError = markAssetError;\nexports.isAssetError = isAssetError;\nexports.getClientBuildManifest = getClientBuildManifest;\nexports.createRouteLoader = createRouteLoader;\n\nvar _interop_require_default = require(\"@swc/helpers/lib/_interop_require_default.js\").default;\n\nvar _getAssetPathFromRoute = _interop_require_default(require(\"../shared/lib/router/utils/get-asset-path-from-route\"));\n\nvar _trustedTypes = require(\"./trusted-types\");\n\nvar _requestIdleCallback = require(\"./request-idle-callback\"); // 3.8s was arbitrarily chosen as it's what https://web.dev/interactive\n// considers as \"Good\" time-to-interactive. We must assume something went\n// wrong beyond this point, and then fall-back to a full page transition to\n// show the user something of value.\n\n\nconst MS_MAX_IDLE_DELAY = 3800;\n\nfunction withFuture(key, map, generator) {\n  let entry = map.get(key);\n\n  if (entry) {\n    if ('future' in entry) {\n      return entry.future;\n    }\n\n    return Promise.resolve(entry);\n  }\n\n  let resolver;\n  const prom = new Promise(resolve => {\n    resolver = resolve;\n  });\n  map.set(key, entry = {\n    resolve: resolver,\n    future: prom\n  });\n  return generator ? generator() // eslint-disable-next-line no-sequences\n  .then(value => (resolver(value), value)).catch(err => {\n    map.delete(key);\n    throw err;\n  }) : prom;\n}\n\nconst ASSET_LOAD_ERROR = Symbol('ASSET_LOAD_ERROR');\n\nfunction markAssetError(err) {\n  return Object.defineProperty(err, ASSET_LOAD_ERROR, {});\n}\n\nfunction isAssetError(err) {\n  return err && ASSET_LOAD_ERROR in err;\n}\n\nfunction hasPrefetch(link) {\n  try {\n    link = document.createElement('link');\n    return (// detect IE11 since it supports prefetch but isn't detected\n      // with relList.support\n      !!window.MSInputMethodContext && !!document.documentMode || link.relList.supports('prefetch')\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\nconst canPrefetch = hasPrefetch();\n\nfunction prefetchViaDom(href, as, link) {\n  return new Promise((resolve, reject) => {\n    const selector = `\n      link[rel=\"prefetch\"][href^=\"${href}\"],\n      link[rel=\"preload\"][href^=\"${href}\"],\n      script[src^=\"${href}\"]`;\n\n    if (document.querySelector(selector)) {\n      return resolve();\n    }\n\n    link = document.createElement('link'); // The order of property assignment here is intentional:\n\n    if (as) link.as = as;\n    link.rel = `prefetch`;\n    link.crossOrigin = process.env.__NEXT_CROSS_ORIGIN;\n    link.onload = resolve;\n\n    link.onerror = () => reject(markAssetError(new Error(`Failed to prefetch: ${href}`))); // `href` should always be last:\n\n\n    link.href = href;\n    document.head.appendChild(link);\n  });\n}\n\nfunction appendScript(src, script) {\n  return new Promise((resolve, reject) => {\n    script = document.createElement('script'); // The order of property assignment here is intentional.\n    // 1. Setup success/failure hooks in case the browser synchronously\n    //    executes when `src` is set.\n\n    script.onload = resolve;\n\n    script.onerror = () => reject(markAssetError(new Error(`Failed to load script: ${src}`))); // 2. Configure the cross-origin attribute before setting `src` in case the\n    //    browser begins to fetch.\n\n\n    script.crossOrigin = process.env.__NEXT_CROSS_ORIGIN; // 3. Finally, set the source and inject into the DOM in case the child\n    //    must be appended for fetching to start.\n\n    script.src = src;\n    document.body.appendChild(script);\n  });\n} // We wait for pages to be built in dev before we start the route transition\n// timeout to prevent an un-necessary hard navigation in development.\n\n\nlet devBuildPromise; // Resolve a promise that times out after given amount of milliseconds.\n\nfunction resolvePromiseWithTimeout(p, ms, err) {\n  return new Promise((resolve, reject) => {\n    let cancelled = false;\n    p.then(r => {\n      // Resolved, cancel the timeout\n      cancelled = true;\n      resolve(r);\n    }).catch(reject); // We wrap these checks separately for better dead-code elimination in\n    // production bundles.\n\n    if (process.env.NODE_ENV === 'development') {\n      (devBuildPromise || Promise.resolve()).then(() => {\n        (0, _requestIdleCallback).requestIdleCallback(() => setTimeout(() => {\n          if (!cancelled) {\n            reject(err);\n          }\n        }, ms));\n      });\n    }\n\n    if (process.env.NODE_ENV !== 'development') {\n      (0, _requestIdleCallback).requestIdleCallback(() => setTimeout(() => {\n        if (!cancelled) {\n          reject(err);\n        }\n      }, ms));\n    }\n  });\n}\n\nfunction getClientBuildManifest() {\n  if (self.__BUILD_MANIFEST) {\n    return Promise.resolve(self.__BUILD_MANIFEST);\n  }\n\n  const onBuildManifest = new Promise(resolve => {\n    // Mandatory because this is not concurrent safe:\n    const cb = self.__BUILD_MANIFEST_CB;\n\n    self.__BUILD_MANIFEST_CB = () => {\n      resolve(self.__BUILD_MANIFEST);\n      cb && cb();\n    };\n  });\n  return resolvePromiseWithTimeout(onBuildManifest, MS_MAX_IDLE_DELAY, markAssetError(new Error('Failed to load client build manifest')));\n}\n\nfunction getFilesForRoute(assetPrefix, route) {\n  if (process.env.NODE_ENV === 'development') {\n    const scriptUrl = assetPrefix + '/_next/static/chunks/pages' + encodeURI((0, _getAssetPathFromRoute).default(route, '.js'));\n    return Promise.resolve({\n      scripts: [(0, _trustedTypes).__unsafeCreateTrustedScriptURL(scriptUrl)],\n      // Styles are handled by `style-loader` in development:\n      css: []\n    });\n  }\n\n  return getClientBuildManifest().then(manifest => {\n    if (!(route in manifest)) {\n      throw markAssetError(new Error(`Failed to lookup route: ${route}`));\n    }\n\n    const allFiles = manifest[route].map(entry => assetPrefix + '/_next/' + encodeURI(entry));\n    return {\n      scripts: allFiles.filter(v => v.endsWith('.js')).map(v => (0, _trustedTypes).__unsafeCreateTrustedScriptURL(v)),\n      css: allFiles.filter(v => v.endsWith('.css'))\n    };\n  });\n}\n\nfunction createRouteLoader(assetPrefix) {\n  const entrypoints = new Map();\n  const loadedScripts = new Map();\n  const styleSheets = new Map();\n  const routes = new Map();\n\n  function maybeExecuteScript(src) {\n    // With HMR we might need to \"reload\" scripts when they are\n    // disposed and readded. Executing scripts twice has no functional\n    // differences\n    if (process.env.NODE_ENV !== 'development') {\n      let prom = loadedScripts.get(src.toString());\n\n      if (prom) {\n        return prom;\n      } // Skip executing script if it's already in the DOM:\n\n\n      if (document.querySelector(`script[src^=\"${src}\"]`)) {\n        return Promise.resolve();\n      }\n\n      loadedScripts.set(src.toString(), prom = appendScript(src));\n      return prom;\n    } else {\n      return appendScript(src);\n    }\n  }\n\n  function fetchStyleSheet(href) {\n    let prom = styleSheets.get(href);\n\n    if (prom) {\n      return prom;\n    }\n\n    styleSheets.set(href, prom = fetch(href).then(res => {\n      if (!res.ok) {\n        throw new Error(`Failed to load stylesheet: ${href}`);\n      }\n\n      return res.text().then(text => ({\n        href: href,\n        content: text\n      }));\n    }).catch(err => {\n      throw markAssetError(err);\n    }));\n    return prom;\n  }\n\n  return {\n    whenEntrypoint(route) {\n      return withFuture(route, entrypoints);\n    },\n\n    onEntrypoint(route, execute) {\n      (execute ? Promise.resolve().then(() => execute()).then(exports => ({\n        component: exports && exports.default || exports,\n        exports: exports\n      }), err => ({\n        error: err\n      })) : Promise.resolve(undefined)).then(input => {\n        const old = entrypoints.get(route);\n\n        if (old && 'resolve' in old) {\n          if (input) {\n            entrypoints.set(route, input);\n            old.resolve(input);\n          }\n        } else {\n          if (input) {\n            entrypoints.set(route, input);\n          } else {\n            entrypoints.delete(route);\n          } // when this entrypoint has been resolved before\n          // the route is outdated and we want to invalidate\n          // this cache entry\n\n\n          routes.delete(route);\n        }\n      });\n    },\n\n    loadRoute(route, prefetch) {\n      return withFuture(route, routes, () => {\n        let devBuildPromiseResolve;\n\n        if (process.env.NODE_ENV === 'development') {\n          devBuildPromise = new Promise(resolve => {\n            devBuildPromiseResolve = resolve;\n          });\n        }\n\n        return resolvePromiseWithTimeout(getFilesForRoute(assetPrefix, route).then(_ref => {\n          let {\n            scripts,\n            css\n          } = _ref;\n          return Promise.all([entrypoints.has(route) ? [] : Promise.all(scripts.map(maybeExecuteScript)), Promise.all(css.map(fetchStyleSheet))]);\n        }).then(res => {\n          return this.whenEntrypoint(route).then(entrypoint => ({\n            entrypoint,\n            styles: res[1]\n          }));\n        }), MS_MAX_IDLE_DELAY, markAssetError(new Error(`Route did not complete loading: ${route}`))).then(_ref2 => {\n          let {\n            entrypoint,\n            styles\n          } = _ref2;\n          const res = Object.assign({\n            styles: styles\n          }, entrypoint);\n          return 'error' in entrypoint ? entrypoint : res;\n        }).catch(err => {\n          if (prefetch) {\n            // we don't want to cache errors during prefetch\n            throw err;\n          }\n\n          return {\n            error: err\n          };\n        }).finally(() => {\n          return devBuildPromiseResolve == null ? void 0 : devBuildPromiseResolve();\n        });\n      });\n    },\n\n    prefetch(route) {\n      // https://github.com/GoogleChromeLabs/quicklink/blob/453a661fa1fa940e2d2e044452398e38c67a98fb/src/index.mjs#L115-L118\n      // License: Apache 2.0\n      let cn;\n\n      if (cn = navigator.connection) {\n        // Don't prefetch if using 2G or if Save-Data is enabled.\n        if (cn.saveData || /2g/.test(cn.effectiveType)) return Promise.resolve();\n      }\n\n      return getFilesForRoute(assetPrefix, route).then(output => Promise.all(canPrefetch ? output.scripts.map(script => prefetchViaDom(script.toString(), 'script')) : [])).then(() => {\n        (0, _requestIdleCallback).requestIdleCallback(() => this.loadRoute(route, true).catch(() => {}));\n      }).catch( // swallow prefetch errors\n      () => {});\n    }\n\n  };\n}\n\nif ((typeof exports.default === 'function' || typeof exports.default === 'object' && exports.default !== null) && typeof exports.default.__esModule === 'undefined') {\n  Object.defineProperty(exports.default, '__esModule', {\n    value: true\n  });\n  Object.assign(exports.default, exports);\n  module.exports = exports.default;\n}","map":{"version":3,"mappings":"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","names":["markAssetError","isAssetError","getClientBuildManifest","createRouteLoader","MS_MAX_IDLE_DELAY","withFuture","key","map","generator","entry","get","future","Promise","resolve","resolver","prom","set","then","value","catch","err","delete","ASSET_LOAD_ERROR","Symbol","Object","defineProperty","hasPrefetch","link","document","createElement","window","MSInputMethodContext","documentMode","relList","supports","canPrefetch","prefetchViaDom","href","as","reject","selector","querySelector","rel","crossOrigin","process","env","__NEXT_CROSS_ORIGIN","onload","onerror","Error","head","appendChild","appendScript","src","script","body","devBuildPromise","resolvePromiseWithTimeout","p","ms","cancelled","r","NODE_ENV","requestIdleCallback","setTimeout","self","__BUILD_MANIFEST","onBuildManifest","cb","__BUILD_MANIFEST_CB","getFilesForRoute","assetPrefix","route","scriptUrl","encodeURI","getAssetPathFromRoute","default","scripts","__unsafeCreateTrustedScriptURL","css","manifest","allFiles","filter","v","endsWith","entrypoints","Map","loadedScripts","styleSheets","routes","maybeExecuteScript","toString","fetchStyleSheet","fetch","res","ok","text","content","whenEntrypoint","onEntrypoint","execute","exports","component","error","undefined","input","old","loadRoute","prefetch","devBuildPromiseResolve","all","has","entrypoint","styles","assign","finally","cn","navigator","connection","saveData","test","effectiveType","output"],"sources":["../../../src/client/route-loader.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}