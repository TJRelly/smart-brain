{"version":3,"file":"proton.js","sources":["../src/math/MathUtil.js","../src/math/Span.js","../src/utils/WebGLUtil.js","../src/utils/DomUtil.js","../src/utils/ImgUtil.js","../src/utils/Util.js","../src/utils/Puid.js","../src/core/Pool.js","../src/debug/Stats.js","../src/events/EventDispatcher.js","../src/math/Integration.js","../src/core/Proton.js","../src/utils/Rgb.js","../src/math/ease.js","../src/math/Vector2D.js","../src/core/Particle.js","../src/utils/ColorUtil.js","../src/math/Polar2D.js","../src/math/Mat3.js","../src/math/ArraySpan.js","../src/math/Rectangle.js","../src/initialize/Rate.js","../src/initialize/Initialize.js","../src/initialize/Life.js","../src/zone/Zone.js","../src/zone/PointZone.js","../src/initialize/Position.js","../src/initialize/Velocity.js","../src/initialize/Mass.js","../src/initialize/Radius.js","../src/initialize/Body.js","../src/behaviour/Behaviour.js","../src/behaviour/Force.js","../src/behaviour/Attraction.js","../src/behaviour/RandomDrift.js","../src/behaviour/Gravity.js","../src/behaviour/Collision.js","../src/behaviour/CrossZone.js","../src/behaviour/Alpha.js","../src/behaviour/Scale.js","../src/behaviour/Rotate.js","../src/behaviour/Color.js","../src/behaviour/Cyclone.js","../src/behaviour/Repulsion.js","../src/behaviour/GravityWell.js","../src/initialize/InitializeUtil.js","../src/emitter/Emitter.js","../src/emitter/BehaviourEmitter.js","../src/emitter/FollowEmitter.js","../src/render/BaseRenderer.js","../src/render/CanvasRenderer.js","../src/render/DomRenderer.js","../src/render/EaselRenderer.js","../src/render/PixelRenderer.js","../src/render/PixiRenderer.js","../src/utils/MStack.js","../src/render/WebGLRenderer.js","../src/render/CustomRenderer.js","../src/zone/LineZone.js","../src/zone/CircleZone.js","../src/zone/RectZone.js","../src/zone/ImageZone.js","../src/debug/Debug.js","../src/index.js"],"sourcesContent":["const PI = 3.1415926;\nconst INFINITY = Infinity;\n\nconst MathUtil = {\n  PI: PI,\n  PIx2: PI * 2,\n  PI_2: PI / 2,\n  PI_180: PI / 180,\n  N180_PI: 180 / PI,\n  Infinity: -999,\n\n  isInfinity(num) {\n    return num === this.Infinity || num === INFINITY;\n  },\n\n  randomAToB(a, b, isInt = false) {\n    if (!isInt) return a + Math.random() * (b - a);\n    else return Math.floor(Math.random() * (b - a)) + a;\n  },\n\n  randomFloating(center, f, isInt) {\n    return this.randomAToB(center - f, center + f, isInt);\n  },\n\n  randomColor() {\n    return (\n      \"#\" +\n      (\"00000\" + ((Math.random() * 0x1000000) << 0).toString(16)).slice(-6)\n    );\n  },\n\n  randomZone(display) {},\n\n  floor(num, k = 4) {\n    const digits = Math.pow(10, k);\n    return Math.floor(num * digits) / digits;\n  },\n\n  degreeTransform(a) {\n    return (a * PI) / 180;\n  },\n\n  toColor16(num) {\n    return `#${num.toString(16)}`;\n  }\n};\n\nexport default MathUtil;\n","import Util from \"../utils/Util\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class Span {\n  constructor(a, b, center) {\n    if (Util.isArray(a)) {\n      this.isArray = true;\n      this.a = a;\n    } else {\n      this.isArray = false;\n      this.a = Util.initValue(a, 1);\n      this.b = Util.initValue(b, this.a);\n      this.center = Util.initValue(center, false);\n    }\n  }\n\n  getValue(isInt = false) {\n    if (this.isArray) {\n      return Util.getRandFromArray(this.a);\n    } else {\n      if (!this.center) {\n        return MathUtil.randomAToB(this.a, this.b, isInt);\n      } else {\n        return MathUtil.randomFloating(this.a, this.b, isInt);\n      }\n    }\n  }\n\n  /**\n   * Returns a new Span object\n   *\n   * @memberof Proton#Proton.Util\n   * @method setSpanValue\n   *\n   * @todo a, b and c should be 'Mixed' or 'Number'?\n   *\n   * @param {Mixed | Span} a\n   * @param {Mixed}               b\n   * @param {Mixed}               c\n   *\n   * @return {Span}\n   */\n  static setSpanValue(a, b, c) {\n    if (a instanceof Span) {\n      return a;\n    } else {\n      if (b === undefined) {\n        return new Span(a);\n      } else {\n        if (c === undefined) return new Span(a, b);\n        else return new Span(a, b, c);\n      }\n    }\n  }\n\n  /**\n   * Returns the value from a Span, if the param is not a Span it will return the given parameter\n   *\n   * @memberof Proton#Proton.Util\n   * @method getValue\n   *\n   * @param {Mixed | Span} pan\n   *\n   * @return {Mixed} the value of Span OR the parameter if it is not a Span\n   */\n  static getSpanValue(pan) {\n    return pan instanceof Span ? pan.getValue() : pan;\n  }\n}\n","export default {\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method ipot\n   *\n   * @todo add description\n   * @todo add length description\n   *\n   * @param {Number} length\n   *\n   * @return {Boolean}\n   */\n  ipot(length) {\n    return (length & (length - 1)) === 0;\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method nhpot\n   *\n   * @todo add description\n   * @todo add length description\n   *\n   * @param {Number} length\n   *\n   * @return {Number}\n   */\n  nhpot(length) {\n    --length;\n    for (let i = 1; i < 32; i <<= 1) {\n      length = length | (length >> i);\n    }\n\n    return length + 1;\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method makeTranslation\n   *\n   * @todo add description\n   * @todo add tx, ty description\n   * @todo add return description\n   *\n   * @param {Number} tx either 0 or 1\n   * @param {Number} ty either 0 or 1\n   *\n   * @return {Object}\n   */\n  makeTranslation(tx, ty) {\n    return [1, 0, 0, 0, 1, 0, tx, ty, 1];\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method makeRotation\n   *\n   * @todo add description\n   * @todo add return description\n   *\n   * @param {Number} angleInRadians\n   *\n   * @return {Object}\n   */\n  makeRotation(angleInRadians) {\n    let c = Math.cos(angleInRadians);\n    let s = Math.sin(angleInRadians);\n\n    return [c, -s, 0, s, c, 0, 0, 0, 1];\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method makeScale\n   *\n   * @todo add description\n   * @todo add tx, ty description\n   * @todo add return description\n   *\n   * @param {Number} sx either 0 or 1\n   * @param {Number} sy either 0 or 1\n   *\n   * @return {Object}\n   */\n  makeScale(sx, sy) {\n    return [sx, 0, 0, 0, sy, 0, 0, 0, 1];\n  },\n\n  /**\n   * @memberof Proton#Proton.WebGLUtil\n   * @method matrixMultiply\n   *\n   * @todo add description\n   * @todo add a, b description\n   * @todo add return description\n   *\n   * @param {Object} a\n   * @param {Object} b\n   *\n   * @return {Object}\n   */\n  matrixMultiply(a, b) {\n    let a00 = a[0 * 3 + 0];\n    let a01 = a[0 * 3 + 1];\n    let a02 = a[0 * 3 + 2];\n    let a10 = a[1 * 3 + 0];\n    let a11 = a[1 * 3 + 1];\n    let a12 = a[1 * 3 + 2];\n    let a20 = a[2 * 3 + 0];\n    let a21 = a[2 * 3 + 1];\n    let a22 = a[2 * 3 + 2];\n    let b00 = b[0 * 3 + 0];\n    let b01 = b[0 * 3 + 1];\n    let b02 = b[0 * 3 + 2];\n    let b10 = b[1 * 3 + 0];\n    let b11 = b[1 * 3 + 1];\n    let b12 = b[1 * 3 + 2];\n    let b20 = b[2 * 3 + 0];\n    let b21 = b[2 * 3 + 1];\n    let b22 = b[2 * 3 + 2];\n\n    return [\n      a00 * b00 + a01 * b10 + a02 * b20,\n      a00 * b01 + a01 * b11 + a02 * b21,\n      a00 * b02 + a01 * b12 + a02 * b22,\n      a10 * b00 + a11 * b10 + a12 * b20,\n      a10 * b01 + a11 * b11 + a12 * b21,\n      a10 * b02 + a11 * b12 + a12 * b22,\n      a20 * b00 + a21 * b10 + a22 * b20,\n      a20 * b01 + a21 * b11 + a22 * b21,\n      a20 * b02 + a21 * b12 + a22 * b22\n    ];\n  }\n};\n","export default {\n  /**\n   * Creates and returns a new canvas. The opacity is by default set to 0\n   *\n   * @memberof Proton#Proton.DomUtil\n   * @method createCanvas\n   *\n   * @param {String} $id the canvas' id\n   * @param {Number} $width the canvas' width\n   * @param {Number} $height the canvas' height\n   * @param {String} [$position=absolute] the canvas' position, default is 'absolute'\n   *\n   * @return {Object}\n   */\n  createCanvas(id, width, height, position = \"absolute\") {\n    const dom = document.createElement(\"canvas\");\n\n    dom.id = id;\n    dom.width = width;\n    dom.height = height;\n    dom.style.opacity = 0;\n    dom.style.position = position;\n    this.transform(dom, -500, -500, 0, 0);\n\n    return dom;\n  },\n\n  createDiv(id, width, height) {\n    const dom = document.createElement(\"div\");\n\n    dom.id = id;\n    dom.style.position = \"absolute\";\n    this.resize(dom, width, height);\n\n    return dom;\n  },\n\n  resize(dom, width, height) {\n    dom.style.width = width + \"px\";\n    dom.style.height = height + \"px\";\n    dom.style.marginLeft = -width / 2 + \"px\";\n    dom.style.marginTop = -height / 2 + \"px\";\n  },\n\n  /**\n   * Adds a transform: translate(), scale(), rotate() to a given div dom for all browsers\n   *\n   * @memberof Proton#Proton.DomUtil\n   * @method transform\n   *\n   * @param {HTMLDivElement} div\n   * @param {Number} $x\n   * @param {Number} $y\n   * @param {Number} $scale\n   * @param {Number} $rotate\n   */\n  transform(div, x, y, scale, rotate) {\n    div.style.willChange = \"transform\";\n    const transform = `translate(${x}px, ${y}px) scale(${scale}) rotate(${rotate}deg)`;\n    this.css3(div, \"transform\", transform);\n  },\n\n  transform3d(div, x, y, scale, rotate) {\n    div.style.willChange = \"transform\";\n    const transform = `translate3d(${x}px, ${y}px, 0) scale(${scale}) rotate(${rotate}deg)`;\n    this.css3(div, \"backfaceVisibility\", \"hidden\");\n    this.css3(div, \"transform\", transform);\n  },\n\n  css3(div, key, val) {\n    const bkey = key.charAt(0).toUpperCase() + key.substr(1);\n\n    div.style[`Webkit${bkey}`] = val;\n    div.style[`Moz${bkey}`] = val;\n    div.style[`O${bkey}`] = val;\n    div.style[`ms${bkey}`] = val;\n    div.style[`${key}`] = val;\n  }\n};\n","import WebGLUtil from \"./WebGLUtil\";\nimport DomUtil from \"./DomUtil\";\n\nconst imgsCache = {};\nconst canvasCache = {};\nlet canvasId = 0;\n\nexport default {\n  /**\n   * This will get the image data. It could be necessary to create a Proton.Zone.\n   *\n   * @memberof Proton#Proton.Util\n   * @method getImageData\n   *\n   * @param {HTMLCanvasElement}   context any canvas, must be a 2dContext 'canvas.getContext('2d')'\n   * @param {Object}              image   could be any dom image, e.g. document.getElementById('thisIsAnImgTag');\n   * @param {Proton.Rectangle}    rect\n   */\n  getImageData(context, image, rect) {\n    context.drawImage(image, rect.x, rect.y);\n    const imagedata = context.getImageData(\n      rect.x,\n      rect.y,\n      rect.width,\n      rect.height\n    );\n    context.clearRect(rect.x, rect.y, rect.width, rect.height);\n\n    return imagedata;\n  },\n\n  /**\n   * @memberof Proton#Proton.Util\n   * @method getImgFromCache\n   *\n   * @todo add description\n   * @todo describe func\n   *\n   * @param {Mixed}               img\n   * @param {Proton.Particle}     particle\n   * @param {Boolean}             drawCanvas  set to true if a canvas should be saved into particle.data.canvas\n   * @param {Boolean}             func\n   */\n  getImgFromCache(img, callback, param) {\n    const src = typeof img === \"string\" ? img : img.src;\n\n    if (imgsCache[src]) {\n      callback(imgsCache[src], param);\n    } else {\n      const image = new Image();\n      image.onload = e => {\n        imgsCache[src] = e.target;\n        callback(imgsCache[src], param);\n      };\n\n      image.src = src;\n    }\n  },\n\n  getCanvasFromCache(img, callback, param) {\n    const src = img.src;\n\n    if (!canvasCache[src]) {\n      const width = WebGLUtil.nhpot(img.width);\n      const height = WebGLUtil.nhpot(img.height);\n\n      const canvas = DomUtil.createCanvas(\n        `proton_canvas_cache_${++canvasId}`,\n        width,\n        height\n      );\n      const context = canvas.getContext(\"2d\");\n      context.drawImage(img, 0, 0, img.width, img.height);\n\n      canvasCache[src] = canvas;\n    }\n\n    callback && callback(canvasCache[src], param);\n\n    return canvasCache[src];\n  }\n};\n","import Span from \"../math/Span\";\nimport ImgUtil from \"./ImgUtil\";\n\nexport default {\n  /**\n   * Returns the default if the value is null or undefined\n   *\n   * @memberof Proton#Proton.Util\n   * @method initValue\n   *\n   * @param {Mixed} value a specific value, could be everything but null or undefined\n   * @param {Mixed} defaults the default if the value is null or undefined\n   */\n  initValue(value, defaults) {\n    value = value !== null && value !== undefined ? value : defaults;\n    return value;\n  },\n\n  /**\n   * Checks if the value is a valid array\n   *\n   * @memberof Proton#Proton.Util\n   * @method isArray\n   *\n   * @param {Array} value Any array\n   *\n   * @returns {Boolean}\n   */\n  isArray(value) {\n    return Object.prototype.toString.call(value) === \"[object Array]\";\n  },\n\n  /**\n   * Destroyes the given array\n   *\n   * @memberof Proton#Proton.Util\n   * @method emptyArray\n   *\n   * @param {Array} array Any array\n   */\n  emptyArray(arr) {\n    if (arr) arr.length = 0;\n  },\n\n  toArray(arr) {\n    return this.isArray(arr) ? arr : [arr];\n  },\n\n  getRandFromArray(arr) {\n    if (!arr) return null;\n    return arr[Math.floor(arr.length * Math.random())];\n  },\n\n  /**\n   * Destroyes the given object\n   *\n   * @memberof Proton#Proton.Util\n   * @method emptyObject\n   *\n   * @param {Object} obj Any object\n   */\n  emptyObject(obj, ignore = null) {\n    for (let key in obj) {\n      if (ignore && ignore.indexOf(key) > -1) continue;\n      delete obj[key];\n    }\n  },\n\n  /**\n   * Makes an instance of a class and binds the given array\n   *\n   * @memberof Proton#Proton.Util\n   * @method classApply\n   *\n   * @param {Function} constructor A class to make an instance from\n   * @param {Array} [args] Any array to bind it to the constructor\n   *\n   * @return {Object} The instance of constructor, optionally bind with args\n   */\n  classApply(constructor, args = null) {\n    if (!args) {\n      return new constructor();\n    } else {\n      const FactoryFunc = constructor.bind.apply(\n        constructor,\n        [null].concat(args)\n      );\n      return new FactoryFunc();\n    }\n  },\n\n  /**\n   * @memberof Proton#Proton.Util\n   * @method setVectorVal\n   *\n   * @todo add description for param `target`\n   * @todo add description for param `conf`\n   * @todo add description for function\n   *\n   * @param {Object} target\n   * @param {Object} conf\n   */\n  setVectorVal(particle, conf = null) {\n    if (!conf) return;\n\n    if (this.hasProp(conf, \"x\")) particle.p.x = conf[\"x\"];\n    if (this.hasProp(conf, \"y\")) particle.p.y = conf[\"y\"];\n\n    if (this.hasProp(conf, \"vx\")) particle.v.x = conf[\"vx\"];\n    if (this.hasProp(conf, \"vy\")) particle.v.y = conf[\"vy\"];\n\n    if (this.hasProp(conf, \"ax\")) particle.a.x = conf[\"ax\"];\n    if (this.hasProp(conf, \"ay\")) particle.a.y = conf[\"ay\"];\n\n    if (this.hasProp(conf, \"p\")) particle.p.copy(conf[\"p\"]);\n    if (this.hasProp(conf, \"v\")) particle.v.copy(conf[\"v\"]);\n    if (this.hasProp(conf, \"a\")) particle.a.copy(conf[\"a\"]);\n\n    if (this.hasProp(conf, \"position\")) particle.p.copy(conf[\"position\"]);\n    if (this.hasProp(conf, \"velocity\")) particle.v.copy(conf[\"velocity\"]);\n    if (this.hasProp(conf, \"accelerate\")) particle.a.copy(conf[\"accelerate\"]);\n  },\n\n  hasProp(target, key) {\n    if (!target) return false;\n    return target[key] !== undefined;\n    // return obj.hasOwnProperty(key);\n  },\n\n  /**\n   * set the prototype in a given prototypeObject\n   *\n   * @memberof Proton#Proton.Util\n   * @method setProp\n   *\n   * @todo add description for param `target`\n   * @todo translate desription from chinese to english\n   *\n   * @param {Object} target\n   * @param {Object} prototypeObject An object of single prototypes\n   *\n   * @return {Object} target\n   */\n  setProp(target, props) {\n    for (let prop in props) {\n      if (target.hasOwnProperty(prop)) {\n        target[prop] = Span.getSpanValue(props[prop]);\n      }\n    }\n\n    return target;\n  },\n\n  /**\n   * This will get the image data. It could be necessary to create a Proton.Zone.\n   *\n   * @memberof Proton#Proton.Util\n   * @method getImageData\n   *\n   * @param {HTMLCanvasElement}   context any canvas, must be a 2dContext 'canvas.getContext('2d')'\n   * @param {Object}              image   could be any dom image, e.g. document.getElementById('thisIsAnImgTag');\n   * @param {Proton.Rectangle}    rect\n   */\n  getImageData(context, image, rect) {\n    return ImgUtil.getImageData(context, image, rect);\n  },\n\n  destroyAll(arr, param = null) {\n    let i = arr.length;\n\n    while (i--) {\n      try {\n        arr[i].destroy(param);\n      } catch (e) {}\n\n      delete arr[i];\n    }\n\n    arr.length = 0;\n  },\n\n  assign(target, source) {\n    if (typeof Object.assign !== \"function\") {\n      for (let key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n\n      return target;\n    } else {\n      return Object.assign(target, source);\n    }\n  }\n};\n","const idsMap = {};\n\nconst Puid = {\n  _index: 0,\n  _cache: {},\n\n  id(type) {\n    if (idsMap[type] === undefined || idsMap[type] === null) idsMap[type] = 0;\n    return `${type}_${idsMap[type]++}`;\n  },\n\n  getId(target) {\n    let uid = this.getIdFromCache(target);\n    if (uid) return uid;\n\n    uid = `PUID_${this._index++}`;\n    this._cache[uid] = target;\n\n    return uid;\n  },\n\n  getIdFromCache(target) {\n    let obj, id;\n\n    for (id in this._cache) {\n      obj = this._cache[id];\n\n      if (obj === target) return id;\n      if (this.isBody(obj, target) && obj.src === target.src) return id;\n    }\n\n    return null;\n  },\n\n  isBody(obj, target) {\n    return (\n      typeof obj === \"object\" &&\n      typeof target === \"object\" &&\n      obj.isInner &&\n      target.isInner\n    );\n  },\n\n  getTarget(uid) {\n    return this._cache[uid];\n  }\n};\n\nexport default Puid;\n","/**\n * Pool is the cache pool of the proton engine, it is very important.\n *\n * get(target, params, uid)\n *  Class\n *    uid = Puid.getId -> Puid save target cache\n *    target.__puid = uid\n *\n *  body\n *    uid = Puid.getId -> Puid save target cache\n *\n *\n * expire(target)\n *  cache[target.__puid] push target\n *\n */\nimport Util from \"../utils/Util\";\nimport Puid from \"../utils/Puid\";\n\nexport default class Pool {\n  /**\n   * @memberof! Proton#\n   * @constructor\n   * @alias Proton.Pool\n   *\n   * @todo add description\n   * @todo add description of properties\n   *\n   * @property {Number} total\n   * @property {Object} cache\n   */\n  constructor(num) {\n    this.total = 0;\n    this.cache = {};\n  }\n\n  /**\n   * @todo add description\n   *\n   * @method get\n   * @memberof Proton#Proton.Pool\n   *\n   * @param {Object|Function} target\n   * @param {Object} [params] just add if `target` is a function\n   *\n   * @return {Object}\n   */\n  get(target, params, uid) {\n    let p;\n    uid = uid || target.__puid || Puid.getId(target);\n\n    if (this.cache[uid] && this.cache[uid].length > 0) {\n      p = this.cache[uid].pop();\n    } else {\n      p = this.createOrClone(target, params);\n    }\n\n    p.__puid = target.__puid || uid;\n    return p;\n  }\n\n  /**\n   * @todo add description\n   *\n   * @method set\n   * @memberof Proton#Proton.Pool\n   *\n   * @param {Object} target\n   *\n   * @return {Object}\n   */\n  expire(target) {\n    return this.getCache(target.__puid).push(target);\n  }\n\n  /**\n   * Creates a new class instance\n   *\n   * @todo add more documentation\n   *\n   * @method create\n   * @memberof Proton#Proton.Pool\n   *\n   * @param {Object|Function} target any Object or Function\n   * @param {Object} [params] just add if `target` is a function\n   *\n   * @return {Object}\n   */\n  createOrClone(target, params) {\n    this.total++;\n\n    if (this.create) {\n      return this.create(target, params);\n    } else if (typeof target === \"function\") {\n      return Util.classApply(target, params);\n    } else {\n      return target.clone();\n    }\n  }\n\n  /**\n   * @todo add description - what is in the cache?\n   *\n   * @method getCount\n   * @memberof Proton#Proton.Pool\n   *\n   * @return {Number}\n   */\n  getCount() {\n    let count = 0;\n    for (let id in this.cache) count += this.cache[id].length;\n    return count++;\n  }\n\n  /**\n   * Destroyes all items from Pool.cache\n   *\n   * @method destroy\n   * @memberof Proton#Proton.Pool\n   */\n  destroy() {\n    for (let id in this.cache) {\n      this.cache[id].length = 0;\n      delete this.cache[id];\n    }\n  }\n\n  /**\n   * Returns Pool.cache\n   *\n   * @method getCache\n   * @memberof Proton#Proton.Pool\n   * @private\n   *\n   * @param {Number} uid the unique id\n   *\n   * @return {Object}\n   */\n  getCache(uid = \"default\") {\n    if (!this.cache[uid]) this.cache[uid] = [];\n    return this.cache[uid];\n  }\n}\n","export default class Stats {\n  constructor(proton) {\n    this.proton = proton;\n    this.container = null;\n    this.type = 1;\n\n    this.emitterIndex = 0;\n    this.rendererIndex = 0;\n  }\n\n  update(style, body) {\n    this.add(style, body);\n\n    const emitter = this.getEmitter();\n    const renderer = this.getRenderer();\n    let str = \"\";\n\n    switch (this.type) {\n      case 2:\n        str += \"emitter:\" + this.proton.emitters.length + \"<br>\";\n        if (emitter) str += \"em speed:\" + emitter.emitSpeed + \"<br>\";\n        if (emitter) str += \"pos:\" + this.getEmitterPos(emitter);\n        break;\n\n      case 3:\n        if (emitter)\n          str += \"initializes:\" + emitter.initializes.length + \"<br>\";\n        if (emitter)\n          str +=\n            '<span style=\"display:inline-block;\">' +\n            this.concatArr(emitter.initializes) +\n            \"</span><br>\";\n        if (emitter) str += \"behaviours:\" + emitter.behaviours.length + \"<br>\";\n        if (emitter)\n          str +=\n            '<span style=\"display:inline-block;\">' +\n            this.concatArr(emitter.behaviours) +\n            \"</span><br>\";\n        break;\n\n      case 4:\n        if (renderer) str += renderer.name + \"<br>\";\n        if (renderer) str += \"body:\" + this.getCreatedNumber(renderer) + \"<br>\";\n        break;\n\n      default:\n        str += \"particles:\" + this.proton.getCount() + \"<br>\";\n        str += \"pool:\" + this.proton.pool.getCount() + \"<br>\";\n        str += \"total:\" + this.proton.pool.total;\n    }\n\n    this.container.innerHTML = str;\n  }\n\n  add(style, body) {\n    if (!this.container) {\n      this.type = 1;\n\n      this.container = document.createElement(\"div\");\n      this.container.style.cssText = [\n        \"position:absolute;bottom:0px;left:0;cursor:pointer;\",\n        \"opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;\",\n        \"width:120px;height:50px;background-color:#002;color:#0ff;\"\n      ].join(\"\");\n\n      this.container.addEventListener(\n        \"click\",\n        e => {\n          this.type++;\n          if (this.type > 4) this.type = 1;\n        },\n        false\n      );\n\n      let bg, color;\n      switch (style) {\n        case 2:\n          bg = \"#201\";\n          color = \"#f08\";\n          break;\n\n        case 3:\n          bg = \"#020\";\n          color = \"#0f0\";\n          break;\n\n        default:\n          bg = \"#002\";\n          color = \"#0ff\";\n      }\n\n      this.container.style[\"background-color\"] = bg;\n      this.container.style[\"color\"] = color;\n    }\n\n    if (!this.container.parentNode) {\n      body = body || this.body || document.body;\n      body.appendChild(this.container);\n    }\n  }\n\n  getEmitter() {\n    return this.proton.emitters[this.emitterIndex];\n  }\n\n  getRenderer() {\n    return this.proton.renderers[this.rendererIndex];\n  }\n\n  concatArr(arr) {\n    let result = \"\";\n    if (!arr || !arr.length) return result;\n\n    for (let i = 0; i < arr.length; i++) {\n      result += (arr[i].name || \"\").substr(0, 1) + \".\";\n    }\n\n    return result;\n  }\n\n  getCreatedNumber(renderer) {\n    return renderer.pool.total || (renderer.cpool && renderer.cpool.total) || 0;\n  }\n\n  getEmitterPos(e) {\n    return Math.round(e.p.x) + \",\" + Math.round(e.p.y);\n  }\n}\n","/*\n * EventDispatcher\n * This code reference since http://createjs.com/.\n *\n **/\n\nexport default class EventDispatcher {\n  constructor() {\n    this._listeners = null;\n  }\n\n  static bind(target) {\n    target.prototype.dispatchEvent = EventDispatcher.prototype.dispatchEvent;\n\n    target.prototype.hasEventListener =\n      EventDispatcher.prototype.hasEventListener;\n\n    target.prototype.addEventListener =\n      EventDispatcher.prototype.addEventListener;\n\n    target.prototype.removeEventListener =\n      EventDispatcher.prototype.removeEventListener;\n\n    target.prototype.removeAllEventListeners =\n      EventDispatcher.prototype.removeAllEventListeners;\n  }\n\n  addEventListener(type, listener) {\n    if (!this._listeners) {\n      this._listeners = {};\n    } else {\n      this.removeEventListener(type, listener);\n    }\n\n    if (!this._listeners[type]) this._listeners[type] = [];\n    this._listeners[type].push(listener);\n\n    return listener;\n  }\n\n  removeEventListener(type, listener) {\n    if (!this._listeners) return;\n    if (!this._listeners[type]) return;\n\n    const arr = this._listeners[type];\n    const length = arr.length;\n\n    for (let i = 0; i < length; i++) {\n      if (arr[i] === listener) {\n        if (length === 1) {\n          delete this._listeners[type];\n        }\n\n        // allows for faster checks.\n        else {\n          arr.splice(i, 1);\n        }\n\n        break;\n      }\n    }\n  }\n\n  removeAllEventListeners(type) {\n    if (!type) this._listeners = null;\n    else if (this._listeners) delete this._listeners[type];\n  }\n\n  dispatchEvent(type, args) {\n    let result = false;\n    const listeners = this._listeners;\n\n    if (type && listeners) {\n      let arr = listeners[type];\n      if (!arr) return result;\n\n      // arr = arr.slice();\n      // to avoid issues with items being removed or added during the dispatch\n\n      let handler;\n      let i = arr.length;\n      while (i--) {\n        handler = arr[i];\n        result = result || handler(args);\n      }\n    }\n\n    return !!result;\n  }\n\n  hasEventListener(type) {\n    const listeners = this._listeners;\n    return !!(listeners && listeners[type]);\n  }\n}\n","export default class Integration {\n  constructor(type) {\n    this.type = type;\n  }\n\n  calculate(particles, time, damping) {\n    this.eulerIntegrate(particles, time, damping);\n  }\n\n  // Euler Integrate\n  // https://rosettacode.org/wiki/Euler_method\n  eulerIntegrate(particle, time, damping) {\n    if (!particle.sleep) {\n      particle.old.p.copy(particle.p);\n      particle.old.v.copy(particle.v);\n\n      particle.a.multiplyScalar(1 / particle.mass);\n      particle.v.add(particle.a.multiplyScalar(time));\n      particle.p.add(particle.old.v.multiplyScalar(time));\n\n      if (damping) particle.v.multiplyScalar(damping);\n\n      particle.a.clear();\n    }\n  }\n}\n","import Pool from \"./Pool\";\nimport Util from \"../utils/Util\";\nimport Stats from \"../debug/Stats\";\nimport EventDispatcher from \"../events/EventDispatcher\";\nimport MathUtil from \"../math/MathUtil\";\nimport Integration from \"../math/Integration\";\n\nexport default class Proton {\n  static USE_CLOCK = false;\n\n  // measure 1:100\n  static MEASURE = 100;\n  static EULER = \"euler\";\n  static RK2 = \"runge-kutta2\";\n\n  // event name\n  static PARTICLE_CREATED = \"PARTICLE_CREATED\";\n  static PARTICLE_UPDATE = \"PARTICLE_UPDATE\";\n  static PARTICLE_SLEEP = \"PARTICLE_SLEEP\";\n  static PARTICLE_DEAD = \"PARTICLE_DEAD\";\n\n  static EMITTER_ADDED = \"EMITTER_ADDED\";\n  static EMITTER_REMOVED = \"EMITTER_REMOVED\";\n\n  static PROTON_UPDATE = \"PROTON_UPDATE\";\n  static PROTON_UPDATE_AFTER = \"PROTON_UPDATE_AFTER\";\n  static DEFAULT_INTERVAL = 0.0167;\n\n  static amendChangeTabsBug = true;\n\n  /**\n   * The constructor to add emitters\n   *\n   * @constructor Proton\n   *\n   * @todo proParticleCount is not in use\n   * @todo add more documentation of the single properties and parameters\n   *\n   * @param {Number} [proParticleCount] not in use?\n   * @param {Number} [integrationType=Proton.EULER]\n   *\n   * @property {String} [integrationType=Proton.EULER]\n   * @property {Array} emitters   All added emitter\n   * @property {Array} renderers  All added renderer\n   * @property {Number} time      The active time\n   * @property {Number} oldtime   The old time\n   */\n  constructor(integrationType) {\n    this.emitters = [];\n    this.renderers = [];\n\n    this.time = 0;\n    this.now = 0;\n    this.then = 0;\n    this.elapsed = 0;\n\n    this.stats = new Stats(this);\n    this.pool = new Pool(80);\n\n    this.integrationType = Util.initValue(integrationType, Proton.EULER);\n    this.integrator = new Integration(this.integrationType);\n\n    this._fps = \"auto\";\n    this._interval = Proton.DEFAULT_INTERVAL;\n  }\n\n  set fps(fps) {\n    this._fps = fps;\n    this._interval =\n      fps === \"auto\" ? Proton.DEFAULT_INTERVAL : MathUtil.floor(1 / fps, 7);\n  }\n\n  get fps() {\n    return this._fps;\n  }\n\n  /**\n   * add a type of Renderer\n   *\n   * @method addRenderer\n   * @memberof Proton\n   * @instance\n   *\n   * @param {Renderer} render\n   */\n  addRenderer(render) {\n    render.init(this);\n    this.renderers.push(render);\n  }\n\n  /**\n   * @name add a type of Renderer\n   *\n   * @method addRenderer\n   * @param {Renderer} render\n   */\n  removeRenderer(render) {\n    const index = this.renderers.indexOf(render);\n    this.renderers.splice(index, 1);\n    render.remove(this);\n  }\n\n  /**\n   * add the Emitter\n   *\n   * @method addEmitter\n   * @memberof Proton\n   * @instance\n   *\n   * @param {Emitter} emitter\n   */\n  addEmitter(emitter) {\n    this.emitters.push(emitter);\n    emitter.parent = this;\n\n    this.dispatchEvent(Proton.EMITTER_ADDED, emitter);\n  }\n\n  /**\n   * Removes an Emitter\n   *\n   * @method removeEmitter\n   * @memberof Proton\n   * @instance\n   *\n   * @param {Proton.Emitter} emitter\n   */\n  removeEmitter(emitter) {\n    const index = this.emitters.indexOf(emitter);\n    this.emitters.splice(index, 1);\n    emitter.parent = null;\n\n    this.dispatchEvent(Proton.EMITTER_REMOVED, emitter);\n  }\n\n  /**\n   * Updates all added emitters\n   *\n   * @method update\n   * @memberof Proton\n   * @instance\n   */\n  update() {\n    // 'auto' is the default browser refresh rate, the vast majority is 60fps\n    if (this._fps === \"auto\") {\n      this.dispatchEvent(Proton.PROTON_UPDATE);\n\n      if (Proton.USE_CLOCK) {\n        if (!this.then) this.then = new Date().getTime();\n        this.now = new Date().getTime();\n        this.elapsed = (this.now - this.then) * 0.001;\n        // Fix bugs such as chrome browser switching tabs causing excessive time difference\n        this.amendChangeTabsBug();\n\n        if (this.elapsed > 0) this.emittersUpdate(this.elapsed);\n        this.then = this.now;\n      } else {\n        this.emittersUpdate(Proton.DEFAULT_INTERVAL);\n      }\n\n      this.dispatchEvent(Proton.PROTON_UPDATE_AFTER);\n    }\n\n    // If the fps frame rate is set\n    else {\n      if (!this.then) this.then = new Date().getTime();\n      this.now = new Date().getTime();\n      this.elapsed = (this.now - this.then) * 0.001;\n\n      if (this.elapsed > this._interval) {\n        this.dispatchEvent(Proton.PROTON_UPDATE);\n        this.emittersUpdate(this._interval);\n        // https://stackoverflow.com/questions/19764018/controlling-fps-with-requestanimationframe\n        this.then = this.now - (this.elapsed % this._interval) * 1000;\n        this.dispatchEvent(Proton.PROTON_UPDATE_AFTER);\n      }\n    }\n  }\n\n  emittersUpdate(elapsed) {\n    let i = this.emitters.length;\n    while (i--) this.emitters[i].update(elapsed);\n  }\n\n  /**\n   * @todo add description\n   *\n   * @method amendChangeTabsBug\n   * @memberof Proton\n   * @instance\n   */\n  amendChangeTabsBug() {\n    if (!Proton.amendChangeTabsBug) return;\n    if (this.elapsed > 0.5) {\n      this.then = new Date().getTime();\n      this.elapsed = 0;\n    }\n  }\n\n  /**\n   * Counts all particles from all emitters\n   *\n   * @method getCount\n   * @memberof Proton\n   * @instance\n   */\n  getCount() {\n    let total = 0;\n    let i = this.emitters.length;\n\n    while (i--) total += this.emitters[i].particles.length;\n    return total;\n  }\n\n  getAllParticles() {\n    let particles = [];\n    let i = this.emitters.length;\n\n    while (i--) particles = particles.concat(this.emitters[i].particles);\n    return particles;\n  }\n\n  destroyAllEmitters() {\n    Util.destroyAll(this.emitters);\n  }\n\n  /**\n   * Destroys everything related to this Proton instance. This includes all emitters, and all properties\n   *\n   * @method destroy\n   * @memberof Proton\n   * @instance\n   */\n  destroy(remove = false) {\n    const destroyOther = () => {\n      this.time = 0;\n      this.then = 0;\n      this.pool.destroy();\n\n      Util.destroyAll(this.emitters);\n      Util.destroyAll(this.renderers, this.getAllParticles());\n    };\n\n    if (remove) {\n      setTimeout(destroyOther, 200);\n    } else {\n      destroyOther();\n    }\n  }\n}\n\nEventDispatcher.bind(Proton);\n","export default class Rgb {\n  constructor(r = 255, g = 255, b = 255) {\n    this.r = r;\n    this.g = g;\n    this.b = b;\n  }\n\n  reset() {\n    this.r = 255;\n    this.g = 255;\n    this.b = 255;\n  }\n}\n","import MathUtil from \"./MathUtil\";\n\nexport default {\n  easeLinear(value) {\n    return value;\n  },\n\n  easeInQuad(value) {\n    return Math.pow(value, 2);\n  },\n\n  easeOutQuad(value) {\n    return -(Math.pow(value - 1, 2) - 1);\n  },\n\n  easeInOutQuad(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 2);\n\n    return -0.5 * ((value -= 2) * value - 2);\n  },\n\n  easeInCubic(value) {\n    return Math.pow(value, 3);\n  },\n\n  easeOutCubic(value) {\n    return Math.pow(value - 1, 3) + 1;\n  },\n\n  easeInOutCubic(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 3);\n\n    return 0.5 * (Math.pow(value - 2, 3) + 2);\n  },\n\n  easeInQuart(value) {\n    return Math.pow(value, 4);\n  },\n\n  easeOutQuart(value) {\n    return -(Math.pow(value - 1, 4) - 1);\n  },\n\n  easeInOutQuart(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 4);\n\n    return -0.5 * ((value -= 2) * Math.pow(value, 3) - 2);\n  },\n\n  easeInSine(value) {\n    return -Math.cos(value * MathUtil.PI_2) + 1;\n  },\n\n  easeOutSine(value) {\n    return Math.sin(value * MathUtil.PI_2);\n  },\n\n  easeInOutSine(value) {\n    return -0.5 * (Math.cos(Math.PI * value) - 1);\n  },\n\n  easeInExpo(value) {\n    return value === 0 ? 0 : Math.pow(2, 10 * (value - 1));\n  },\n\n  easeOutExpo(value) {\n    return value === 1 ? 1 : -Math.pow(2, -10 * value) + 1;\n  },\n\n  easeInOutExpo(value) {\n    if (value === 0) return 0;\n\n    if (value === 1) return 1;\n\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (value - 1));\n\n    return 0.5 * (-Math.pow(2, -10 * --value) + 2);\n  },\n\n  easeInCirc(value) {\n    return -(Math.sqrt(1 - value * value) - 1);\n  },\n\n  easeOutCirc(value) {\n    return Math.sqrt(1 - Math.pow(value - 1, 2));\n  },\n\n  easeInOutCirc(value) {\n    if ((value /= 0.5) < 1) return -0.5 * (Math.sqrt(1 - value * value) - 1);\n    return 0.5 * (Math.sqrt(1 - (value -= 2) * value) + 1);\n  },\n\n  easeInBack(value) {\n    let s = 1.70158;\n    return value * value * ((s + 1) * value - s);\n  },\n\n  easeOutBack(value) {\n    let s = 1.70158;\n    return (value = value - 1) * value * ((s + 1) * value + s) + 1;\n  },\n\n  easeInOutBack(value) {\n    let s = 1.70158;\n    if ((value /= 0.5) < 1)\n      return 0.5 * (value * value * (((s *= 1.525) + 1) * value - s));\n    return 0.5 * ((value -= 2) * value * (((s *= 1.525) + 1) * value + s) + 2);\n  },\n\n  getEasing(ease) {\n    if (typeof ease === \"function\") return ease;\n    else return this[ease] || this.easeLinear;\n  }\n};\n","import MathUtil from \"../math/MathUtil\";\n\nexport default class Vector2D {\n  constructor(x, y) {\n    this.x = x || 0;\n    this.y = y || 0;\n  }\n\n  set(x, y) {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  setX(x) {\n    this.x = x;\n    return this;\n  }\n\n  setY(y) {\n    this.y = y;\n    return this;\n  }\n\n  getGradient() {\n    if (this.x !== 0) return Math.atan2(this.y, this.x);\n    else if (this.y > 0) return MathUtil.PI_2;\n    else if (this.y < 0) return -MathUtil.PI_2;\n  }\n\n  copy(v) {\n    this.x = v.x;\n    this.y = v.y;\n\n    return this;\n  }\n\n  add(v, w) {\n    if (w !== undefined) {\n      return this.addVectors(v, w);\n    }\n\n    this.x += v.x;\n    this.y += v.y;\n\n    return this;\n  }\n\n  addXY(a, b) {\n    this.x += a;\n    this.y += b;\n\n    return this;\n  }\n\n  addVectors(a, b) {\n    this.x = a.x + b.x;\n    this.y = a.y + b.y;\n\n    return this;\n  }\n\n  sub(v, w) {\n    if (w !== undefined) {\n      return this.subVectors(v, w);\n    }\n\n    this.x -= v.x;\n    this.y -= v.y;\n\n    return this;\n  }\n\n  subVectors(a, b) {\n    this.x = a.x - b.x;\n    this.y = a.y - b.y;\n\n    return this;\n  }\n\n  divideScalar(s) {\n    if (s !== 0) {\n      this.x /= s;\n      this.y /= s;\n    } else {\n      this.set(0, 0);\n    }\n\n    return this;\n  }\n\n  multiplyScalar(s) {\n    this.x *= s;\n    this.y *= s;\n\n    return this;\n  }\n\n  negate() {\n    return this.multiplyScalar(-1);\n  }\n\n  dot(v) {\n    return this.x * v.x + this.y * v.y;\n  }\n\n  lengthSq() {\n    return this.x * this.x + this.y * this.y;\n  }\n\n  length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  normalize() {\n    return this.divideScalar(this.length());\n  }\n\n  distanceTo(v) {\n    return Math.sqrt(this.distanceToSquared(v));\n  }\n\n  rotate(tha) {\n    const x = this.x;\n    const y = this.y;\n\n    this.x = x * Math.cos(tha) + y * Math.sin(tha);\n    this.y = -x * Math.sin(tha) + y * Math.cos(tha);\n\n    return this;\n  }\n\n  distanceToSquared(v) {\n    const dx = this.x - v.x;\n    const dy = this.y - v.y;\n\n    return dx * dx + dy * dy;\n  }\n\n  lerp(v, alpha) {\n    this.x += (v.x - this.x) * alpha;\n    this.y += (v.y - this.y) * alpha;\n\n    return this;\n  }\n\n  equals(v) {\n    return v.x === this.x && v.y === this.y;\n  }\n\n  clear() {\n    this.x = 0.0;\n    this.y = 0.0;\n    return this;\n  }\n\n  clone() {\n    return new Vector2D(this.x, this.y);\n  }\n}\n","/** @typedef {import('../behaviour/Behaviour')} Behaviour */\n/** @typedef {import('../math/Vector2D')} Vector2D */\n/** @typedef {import('../utils/Rgb')} Rgb */\nimport Rgb from \"../utils/Rgb\";\nimport Puid from \"../utils/Puid\";\nimport Util from \"../utils/Util\";\nimport ease from \"../math/ease\";\nimport Vector2D from \"../math/Vector2D\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class Particle {\n  /** @type string */\n  id = ''\n\n  /** @type {{p:Vector2D,v:Vector2D,a:Vector2D}} */\n  old = {}\n\n  /** @type {object} */\n  data = {}\n\n  /** @type {Behaviour[]} */\n  behaviours = []\n\n  /** @type {Vector2D} */\n  p = []\n\n  /** @type {Vector2D} */\n  v = []\n\n  /** @type {Vector2D} */\n  a = []\n\n  /** @type {Rgb} */\n  rgb = {}\n\n  /**\n   * the Particle class\n   *\n   * @class Proton.Particle\n   * @constructor\n   * @param {Object} pObj the parameters object;\n   * for example {life:3,dead:false}\n   */\n  constructor(conf) {\n    /**\n     * The particle's id;\n     * @property id\n     * @type {string}\n     */\n    this.name = \"Particle\";\n    this.id = Puid.id(this.name);\n    this.old = {};\n    this.data = {};\n    this.behaviours = [];\n\n    this.p = new Vector2D();\n    this.v = new Vector2D();\n    this.a = new Vector2D();\n    this.old.p = new Vector2D();\n    this.old.v = new Vector2D();\n    this.old.a = new Vector2D();\n\n    this.rgb = new Rgb();\n    this.reset();\n    conf && Util.setProp(this, conf);\n  }\n\n  getDirection() {\n    return Math.atan2(this.v.x, -this.v.y) * MathUtil.N180_PI;\n  }\n\n  reset() {\n    this.life = Infinity;\n    this.age = 0;\n\n    this.dead = false;\n    this.sleep = false;\n    this.body = null;\n    this.sprite = null;\n    this.parent = null;\n\n    this.energy = 1; // Energy Loss\n    this.mass = 1;\n    this.radius = 10;\n    this.alpha = 1;\n    this.scale = 1;\n    this.rotation = 0;\n    this.color = null;\n\n    this.p.set(0, 0);\n    this.v.set(0, 0);\n    this.a.set(0, 0);\n    this.old.p.set(0, 0);\n    this.old.v.set(0, 0);\n    this.old.a.set(0, 0);\n    this.easing = ease.easeLinear;\n\n    this.rgb.reset();\n    Util.emptyObject(this.data);\n    this.removeAllBehaviours();\n\n    return this;\n  }\n\n  update(time, index) {\n    if (!this.sleep) {\n      this.age += time;\n      this.applyBehaviours(time, index);\n    }\n\n    if (this.age < this.life) {\n      const scale = this.easing(this.age / this.life);\n      this.energy = Math.max(1 - scale, 0);\n    } else {\n      this.destroy();\n    }\n  }\n\n  applyBehaviours(time, index) {\n    const length = this.behaviours.length;\n    let i;\n\n    for (i = 0; i < length; i++) {\n      this.behaviours[i] &&\n        this.behaviours[i].applyBehaviour(this, time, index);\n    }\n  }\n\n  /**\n   * @param {Behaviour} behaviour\n   */\n  addBehaviour(behaviour) {\n    this.behaviours.push(behaviour);\n\n    if (behaviour.hasOwnProperty(\"parents\")) behaviour.parents.push(this);\n    behaviour.initialize(this);\n  }\n\n  /**\n   * @param {Behaviour[]} behaviours\n   */\n  addBehaviours(behaviours) {\n    const length = behaviours.length;\n    let i;\n\n    for (i = 0; i < length; i++) {\n      this.addBehaviour(behaviours[i]);\n    }\n  }\n\n  removeBehaviour(behaviour) {\n    const index = this.behaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      const behaviour = this.behaviours.splice(index, 1);\n      behaviour.parents = null;\n    }\n  }\n\n  removeAllBehaviours() {\n    Util.emptyArray(this.behaviours);\n  }\n\n  /**\n   * Destory this particle\n   * @method destroy\n   */\n  destroy() {\n    this.removeAllBehaviours();\n    this.energy = 0;\n    this.dead = true;\n    this.parent = null;\n  }\n}\n","export default {\n  /**\n   * @typedef  {Object} rgbObject\n   * @property {Number} r red value\n   * @property {Number} g green value\n   * @property {Number} b blue value\n   */\n  /**\n   * converts a hex value to a rgb object\n   *\n   * @memberof Proton#Proton.Util\n   * @method hexToRgb\n   *\n   * @param {String} h any hex value, e.g. #000000 or 000000 for black\n   *\n   * @return {rgbObject}\n   */\n  hexToRgb(h) {\n    const hex16 = h.charAt(0) === \"#\" ? h.substring(1, 7) : h;\n    const r = parseInt(hex16.substring(0, 2), 16);\n    const g = parseInt(hex16.substring(2, 4), 16);\n    const b = parseInt(hex16.substring(4, 6), 16);\n\n    return { r, g, b };\n  },\n\n  /**\n   * converts a rgb value to a rgb string\n   *\n   * @memberof Proton#Proton.Util\n   * @method rgbToHex\n   *\n   * @param {Object | Proton.hexToRgb} rgb a rgb object like in {@link Proton#Proton.}\n   *\n   * @return {String} rgb()\n   */\n  rgbToHex(rbg) {\n    return `rgb(${rbg.r}, ${rbg.g}, ${rbg.b})`;\n  },\n\n  getHex16FromParticle(p) {\n    return Number(p.rgb.r) * 65536 + Number(p.rgb.g) * 256 + Number(p.rgb.b);\n  }\n};\n","import Vector2D from \"./Vector2D\";\n\nexport default class Polar2D {\n  constructor(r, tha) {\n    this.r = Math.abs(r) || 0;\n    this.tha = tha || 0;\n  }\n\n  set(r, tha) {\n    this.r = r;\n    this.tha = tha;\n    return this;\n  }\n\n  setR(r) {\n    this.r = r;\n    return this;\n  }\n\n  setTha(tha) {\n    this.tha = tha;\n    return this;\n  }\n\n  copy(p) {\n    this.r = p.r;\n    this.tha = p.tha;\n    return this;\n  }\n\n  toVector() {\n    return new Vector2D(this.getX(), this.getY());\n  }\n\n  getX() {\n    return this.r * Math.sin(this.tha);\n  }\n\n  getY() {\n    return -this.r * Math.cos(this.tha);\n  }\n\n  normalize() {\n    this.r = 1;\n    return this;\n  }\n\n  equals(v) {\n    return v.r === this.r && v.tha === this.tha;\n  }\n\n  clear() {\n    this.r = 0.0;\n    this.tha = 0.0;\n    return this;\n  }\n\n  clone() {\n    return new Polar2D(this.r, this.tha);\n  }\n}\n","const Mat3 = {\n  create(mat3) {\n    const mat = new Float32Array(9);\n    if (mat3) this.set(mat3, mat);\n\n    return mat;\n  },\n\n  set(mat1, mat2) {\n    for (let i = 0; i < 9; i++) mat2[i] = mat1[i];\n\n    return mat2;\n  },\n\n  multiply(mat, mat2, mat3) {\n    let a00 = mat[0],\n      a01 = mat[1],\n      a02 = mat[2],\n      a10 = mat[3],\n      a11 = mat[4],\n      a20 = mat[6],\n      a21 = mat[7],\n      b00 = mat2[0],\n      b01 = mat2[1],\n      b02 = mat2[2],\n      b10 = mat2[3],\n      b11 = mat2[4],\n      b20 = mat2[6],\n      b21 = mat2[7];\n\n    mat3[0] = b00 * a00 + b01 * a10;\n    mat3[1] = b00 * a01 + b01 * a11;\n    mat3[2] = a02 * b02;\n    mat3[3] = b10 * a00 + b11 * a10;\n    mat3[4] = b10 * a01 + b11 * a11;\n    mat3[6] = b20 * a00 + b21 * a10 + a20;\n    mat3[7] = b20 * a01 + b21 * a11 + a21;\n\n    return mat3;\n  },\n\n  inverse(mat, mat3) {\n    let a00 = mat[0],\n      a01 = mat[1],\n      a10 = mat[3],\n      a11 = mat[4],\n      a20 = mat[6],\n      a21 = mat[7],\n      b01 = a11,\n      b11 = -a10,\n      b21 = a21 * a10 - a11 * a20,\n      d = a00 * b01 + a01 * b11,\n      id;\n\n    id = 1 / d;\n    mat3[0] = b01 * id;\n    mat3[1] = -a01 * id;\n    mat3[3] = b11 * id;\n    mat3[4] = a00 * id;\n    mat3[6] = b21 * id;\n    mat3[7] = (-a21 * a00 + a01 * a20) * id;\n\n    return mat3;\n  },\n\n  multiplyVec2(m, vec, mat3) {\n    let x = vec[0],\n      y = vec[1];\n\n    mat3[0] = x * m[0] + y * m[3] + m[6];\n    mat3[1] = x * m[1] + y * m[4] + m[7];\n\n    return mat3;\n  }\n};\n\nexport default Mat3;\n","import Span from \"./Span\";\nimport Util from \"../utils/Util\";\nimport MathUtil from \"./MathUtil\";\n\nexport default class ArraySpan extends Span {\n  constructor(color) {\n    super();\n    this._arr = Util.toArray(color);\n  }\n\n  getValue() {\n    const val = Util.getRandFromArray(this._arr);\n    return val === \"random\" || val === \"Random\" ? MathUtil.randomColor() : val;\n  }\n\n  /**\n   * Make sure that the color is an instance of Proton.ArraySpan, if not it makes a new instance\n   *\n   * @method setSpanValue\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} the integrate time 1/ms\n   * @param {Int} the particle index\n   */\n  static createArraySpan(arr) {\n    if (!arr) return null;\n\n    if (arr instanceof ArraySpan) return arr;\n    else return new ArraySpan(arr);\n  }\n}\n","export default class Rectangle {\n  constructor(x, y, w, h) {\n    this.x = x;\n    this.y = y;\n\n    this.width = w;\n    this.height = h;\n\n    this.bottom = this.y + this.height;\n    this.right = this.x + this.width;\n  }\n\n  contains(x, y) {\n    if (x <= this.right && x >= this.x && y <= this.bottom && y >= this.y)\n      return true;\n    else return false;\n  }\n}\n","import Span from \"../math/Span\";\nimport Util from \"../utils/Util\";\n\nexport default class Rate {\n  /**\n   * The number of particles per second emission (a [particle]/b [s]);\n   * @namespace\n   * @memberof! Proton#\n   * @constructor\n   * @alias Rate\n   *\n   * @param {Array | Number | Span} numpan the number of each emission;\n   * @param {Array | Number | Span} timepan the time of each emission;\n   * for example: new Rate(new Span(10, 20), new Span(.1, .25));\n   */\n  constructor(numpan, timepan) {\n    this.numPan = Span.setSpanValue(Util.initValue(numpan, 1));\n    this.timePan = Span.setSpanValue(Util.initValue(timepan, 1));\n\n    this.startTime = 0;\n    this.nextTime = 0;\n    this.init();\n  }\n\n  init() {\n    this.startTime = 0;\n    this.nextTime = this.timePan.getValue();\n  }\n\n  getValue(time) {\n    this.startTime += time;\n\n    if (this.startTime >= this.nextTime) {\n      this.startTime = 0;\n      this.nextTime = this.timePan.getValue();\n\n      if (this.numPan.b === 1) {\n        if (this.numPan.getValue(false) > 0.5) return 1;\n        else return 0;\n      } else {\n        return this.numPan.getValue(true);\n      }\n    }\n\n    return 0;\n  }\n}\n","export default class Initialize {\n  reset() {}\n\n  init(emitter, particle) {\n    if (particle) {\n      this.initialize(particle);\n    } else {\n      this.initialize(emitter);\n    }\n  }\n\n  // sub class init\n  initialize(target) {}\n}\n","import Span from \"../math/Span\";\nimport Initialize from \"./Initialize\";\n\nexport default class Life extends Initialize {\n  constructor(a, b, c) {\n    super();\n\n    this.lifePan = Span.setSpanValue(a, b, c);\n    this.name = \"Life\";\n  }\n\n  initialize(target) {\n    if (this.lifePan.a === Infinity) target.life = Infinity;\n    else target.life = this.lifePan.getValue();\n  }\n}\n","import Vector2D from \"../math/Vector2D\";\n\nexport default class Zone {\n  constructor() {\n    this.vector = new Vector2D(0, 0);\n    this.random = 0;\n    this.crossType = \"dead\";\n    this.alert = true;\n  }\n\n  getPosition() {}\n\n  crossing(particle) {}\n}\n","import Zone from \"./Zone\";\n\nexport default class PointZone extends Zone {\n  constructor(x, y) {\n    super();\n\n    this.x = x;\n    this.y = y;\n  }\n\n  getPosition() {\n    this.vector.x = this.x;\n    this.vector.y = this.y;\n\n    return this.vector;\n  }\n\n  crossing(particle) {\n    if (this.alert) {\n      console.error(\"Sorry, PointZone does not support crossing method!\");\n      this.alert = false;\n    }\n  }\n}\n","import Util from \"../utils/Util\";\nimport PointZone from \"../zone/PointZone\";\nimport Initialize from \"./Initialize\";\n\nexport default class Position extends Initialize {\n  constructor(zone) {\n    super();\n    this.zone = Util.initValue(zone, new PointZone());\n    this.name = \"Position\";\n  }\n\n  reset(zone) {\n    this.zone = Util.initValue(zone, new PointZone());\n  }\n\n  initialize(target) {\n    this.zone.getPosition();\n\n    target.p.x = this.zone.vector.x;\n    target.p.y = this.zone.vector.y;\n  }\n}\n","import Proton from \"../core/Proton\";\nimport Span from \"../math/Span\";\nimport Util from \"../utils/Util\";\nimport Initialize from \"./Initialize\";\nimport Polar2D from \"../math/Polar2D\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class Velocity extends Initialize {\n  constructor(rpan, thapan, type) {\n    super();\n\n    this.rPan = Span.setSpanValue(rpan);\n    this.thaPan = Span.setSpanValue(thapan);\n    this.type = Util.initValue(type, \"vector\");\n\n    this.name = \"Velocity\";\n  }\n\n  reset(rpan, thapan, type) {\n    this.rPan = Span.setSpanValue(rpan);\n    this.thaPan = Span.setSpanValue(thapan);\n    this.type = Util.initValue(type, \"vector\");\n  }\n\n  normalizeVelocity(vr) {\n    return vr * Proton.MEASURE;\n  }\n\n  initialize(target) {\n    if (this.type === \"p\" || this.type === \"P\" || this.type === \"polar\") {\n      const polar2d = new Polar2D(\n        this.normalizeVelocity(this.rPan.getValue()),\n        this.thaPan.getValue() * MathUtil.PI_180\n      );\n\n      target.v.x = polar2d.getX();\n      target.v.y = polar2d.getY();\n    } else {\n      target.v.x = this.normalizeVelocity(this.rPan.getValue());\n      target.v.y = this.normalizeVelocity(this.thaPan.getValue());\n    }\n  }\n}\n","import Span from \"../math/Span\";\nimport Initialize from \"./Initialize\";\n\nexport default class Mass extends Initialize {\n  constructor(a, b, c) {\n    super();\n    this.massPan = Span.setSpanValue(a, b, c);\n    this.name = \"Mass\";\n  }\n\n  initialize(target) {\n    target.mass = this.massPan.getValue();\n  }\n}\n","import Span from \"../math/Span\";\nimport Initialize from \"./Initialize\";\n\nexport default class Radius extends Initialize {\n  constructor(a, b, c) {\n    super();\n    this.radius = Span.setSpanValue(a, b, c);\n\n    this.name = \"Radius\";\n  }\n\n  reset(a, b, c) {\n    this.radius = Span.setSpanValue(a, b, c);\n  }\n\n  initialize(particle) {\n    particle.radius = this.radius.getValue();\n    particle.data.oldRadius = particle.radius;\n  }\n}\n","import Util from \"../utils/Util\";\nimport ArraySpan from \"../math/ArraySpan\";\nimport Initialize from \"./Initialize\";\n\nexport default class Body extends Initialize {\n  constructor(image, w, h) {\n    super();\n\n    this.image = this.setSpanValue(image);\n    this.w = Util.initValue(w, 20);\n    this.h = Util.initValue(h, this.w);\n    this.name = \"Body\";\n  }\n\n  initialize(particle) {\n    const imageTarget = this.image.getValue();\n\n    if (typeof imageTarget === \"string\") {\n      particle.body = {\n        width: this.w,\n        height: this.h,\n        src: imageTarget,\n        isInner: true,\n        inner: true\n      };\n    } else {\n      particle.body = imageTarget;\n    }\n  }\n\n  setSpanValue(image) {\n    return image instanceof ArraySpan ? image : new ArraySpan(image);\n  }\n}\n","import Proton from '../core/Proton';\nimport Util from '../utils/Util';\nimport ease from '../math/ease';\n\nexport default class Behaviour {\n    static id = 0;\n\n    /**\n     * The Behaviour class is the base for the other Behaviour\n     *\n     * @memberof! -\n     * @interface\n     * @alias Proton.Behaviour\n     *\n     * @param {Number} life \tthe behaviours life\n     * @param {String} easing \tThe behaviour's decaying trend, for example ease.easeOutQuart\n     *\n     * @property {String}  id \t\tThe behaviours id\n     * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n     * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n     * @property {Number}  age=0 \tHow long the particle should be 'alife'\n     * @property {Number}  energy=1\n     * @property {Boolean} dead=false The particle is dead at first\n     * @property {Array}   parents \tThe behaviour's parents array\n     * @property {String}  name \tThe behaviour name\n     */\n    constructor(life, easing) {\n\n        this.life = Util.initValue(life, Infinity);\n        this.easing = ease.getEasing(easing);\n\n        this.age = 0;\n        this.energy = 1;\n        this.dead = false;\n        this.parents = [];\n\n        this.id = `Behaviour_${Behaviour.id++}`;\n        this.name = 'Behaviour';\n    }\n\n    /**\n     * Reset this behaviour's parameters\n     *\n     * @method reset\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Number} [life=Infinity] \t\tthis behaviour's life\n     * @param {String} [easing=easeLinear] \tthis behaviour's easing\n     */\n    reset(life, easing) {\n        this.life = Util.initValue(life, Infinity);\n        this.easing = ease.getEasing(easing);\n    }\n\n    /**\n     * Normalize a force by 1:100;\n     *\n     * @method normalizeForce\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Proton.Vector2D} force\n     */\n    normalizeForce(force) {\n        return force.multiplyScalar(Proton.MEASURE);\n    }\n\n    /**\n     * Normalize a value by 1:100;\n     *\n     * @method normalizeValue\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Number} value\n     */\n    normalizeValue(value) {\n        return value * Proton.MEASURE;\n    }\n\n    /**\n     * Initialize the behaviour's parameters for all particles\n     *\n     * @method initialize\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Proton.Particle} particle\n     */\n    initialize(particle) {}\n\n    /**\n     * Apply this behaviour for all particles every time\n     *\n     * @method applyBehaviour\n     * @memberof Proton.Behaviour\n     * @instance\n     *\n     * @param {Proton.Particle} particle\n     * @param {Number} \t\t\ttime the integrate time 1/ms\n     * @param {Int} \t\t\tindex the particle index\n     */\n    calculate(particle, time, index) {\n        this.age += time;\n\n        if (this.age >= this.life || this.dead) {\n            this.energy = 0;\n            this.dead = true;\n            this.destroy();\n        } else {\n            const scale = this.easing(particle.age / particle.life);\n            this.energy = Math.max(1 - scale, 0);\n        }\n    }\n\n    /**\n     * Destory this behaviour\n     *\n     * @method destroy\n     * @memberof Proton.Behaviour\n     * @instance\n     */\n    destroy() {\n        let i = this.parents.length;\n        while (i--) {\n            this.parents[i].removeBehaviour(this);\n        }\n\n        this.parents.length = 0;\n    }\n}\n","import Vector2D from '../math/Vector2D';\nimport Behaviour from './Behaviour';\n\nexport default class Force extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Force\n\t *\n\t * @param {Number} fx\n\t * @param {Number} fy\n\t * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(fx, fy, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.force = this.normalizeForce(new Vector2D(fx, fy));\n\t\tthis.name = 'Force';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Force\n\t * @instance\n\t *\n\t * @param {Number} fx\n\t * @param {Number} fy\n\t * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(fx, fy, life, easing) {\n\t\tthis.force = this.normalizeForce(new Vector2D(fx, fy));\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#Proton.Force\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} the integrate time 1/ms\n\t * @param {Int} the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.calculate(particle, time, index);\n\t\tparticle.a.add(this.force);\n\t}\n}","import Util from \"../utils/Util\";\nimport Vector2D from \"../math/Vector2D\";\nimport Behaviour from \"./Behaviour\";\n\nexport default class Attraction extends Behaviour {\n  /**\n   * This behaviour let the particles follow one specific Proton.Vector2D\n   *\n   * @memberof! Proton#\n   * @augments Proton.Behaviour\n   * @constructor\n   * @alias Proton.Attraction\n   *\n   * @todo add description for 'force' and 'radius'\n   *\n   * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n   * @param {Number} [force=100]\n   * @param {Number} [radius=1000]\n   * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   *\n   * @property {Proton.Vector2D} targetPosition\n   * @property {Number} radius\n   * @property {Number} force\n   * @property {Number} radiusSq\n   * @property {Proton.Vector2D} attractionForce\n   * @property {Number} lengthSq\n   * @property {String} name The Behaviour name\n   */\n  constructor(targetPosition, force, radius, life, easing) {\n    super(life, easing);\n\n    this.targetPosition = Util.initValue(targetPosition, new Vector2D());\n    this.radius = Util.initValue(radius, 1000);\n    this.force = Util.initValue(this.normalizeValue(force), 100);\n\n    this.radiusSq = this.radius * this.radius;\n    this.attractionForce = new Vector2D();\n    this.lengthSq = 0;\n\n    this.name = \"Attraction\";\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#Proton.Attraction\n   * @instance\n   *\n   * @todo add description for 'force' and 'radius'\n   *\n   * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n   * @param {Number} [force=100]\n   * @param {Number} [radius=1000]\n   * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   */\n  reset(targetPosition, force, radius, life, easing) {\n    this.targetPosition = Util.initValue(targetPosition, new Vector2D());\n    this.radius = Util.initValue(radius, 1000);\n    this.force = Util.initValue(this.normalizeValue(force), 100);\n\n    this.radiusSq = this.radius * this.radius;\n    this.attractionForce = new Vector2D();\n    this.lengthSq = 0;\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Apply this behaviour for all particles every time\n   *\n   * @memberof Proton#Proton.Attraction\n   * @method applyBehaviour\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} \t\t\ttime the integrate time 1/ms\n   * @param {Int} \t\t\tindex the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    this.calculate(particle, time, index);\n\n    this.attractionForce.copy(this.targetPosition);\n    this.attractionForce.sub(particle.p);\n    this.lengthSq = this.attractionForce.lengthSq();\n\n    if (this.lengthSq > 0.00004 && this.lengthSq < this.radiusSq) {\n      this.attractionForce.normalize();\n      this.attractionForce.multiplyScalar(1 - this.lengthSq / this.radiusSq);\n      this.attractionForce.multiplyScalar(this.force);\n\n      particle.a.add(this.attractionForce);\n    }\n  }\n}\n","import Vector2D from \"../math/Vector2D\";\nimport MathUtil from \"../math/MathUtil\";\nimport Behaviour from \"./Behaviour\";\n\nexport default class RandomDrift extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Behaviour\n   * @constructor\n   * @alias RandomDrift\n   *\n   * @param {Number} driftX \t\t\t\tX value of the new Vector2D\n   * @param {Number} driftY  \t\t\t\tY value of the new Vector2D\n   * @param {Number} delay \t\t\t\tHow much delay the drift should have\n   * @param {Number} [life=Infinity] \t\tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   *\n   * @property {Number} time The time of the drift\n   * @property {String} name The Behaviour name\n   */\n  constructor(driftX, driftY, delay, life, easing) {\n    super(life, easing);\n\n    this.reset(driftX, driftY, delay);\n    this.time = 0;\n    this.name = \"RandomDrift\";\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#RandomDrift\n   * @instance\n   *\n   * @param {Number} driftX \t\t\t\tX value of the new Vector2D\n   * @param {Number} driftY  \t\t\t\tY value of the new Vector2D\n   * @param {Number} delay \t\t\t\tHow much delay the drift should have\n   * @param {Number} [life=Infinity] \t\tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   */\n  reset(driftX, driftY, delay, life, easing) {\n    this.panFoce = new Vector2D(driftX, driftY);\n    this.panFoce = this.normalizeForce(this.panFoce);\n    this.delay = delay;\n\n    life && super.reset(life, easing);\n  }\n\n  initialize(particle) {\n    particle.data.time = 0;\n  }\n\n  /**\n   * Apply this behaviour for all particles every time\n   *\n   * @method applyBehaviour\n   * @memberof Proton#RandomDrift\n   * @instance\n   *\n   * @param {Particle} particle\n   * @param {Number} \t\t\ttime the integrate time 1/ms\n   * @param {Int} \t\t\tindex the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    this.calculate(particle, time, index);\n    particle.data.time += time;\n\n    if (particle.data.time >= this.delay) {\n      particle.a.addXY(\n        MathUtil.randomAToB(-this.panFoce.x, this.panFoce.x),\n        MathUtil.randomAToB(-this.panFoce.y, this.panFoce.y)\n      );\n\n      particle.data.time = 0;\n    }\n  }\n}\n","import Force from './Force';\n\nexport default class Gravity extends Force {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton#Proton.Force\n\t * @constructor\n\t * @alias Proton.Gravity\n\t *\n\t * @param {Number} g \t\t\t\t\t\t\tGravity\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(g, life, easing) {\n\t\tsuper(0, g, life, easing);\n\t\tthis.name = 'Gravity';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Gravity\n\t * @instance\n\t *\n\t * @param {Number} g \t\t\t\t\t\t\tGravity\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(g, life, easing) {\n\t\tsuper.reset(0, g, life, easing);\n\t}\n}","import Util from '../utils/Util';\nimport Vector2D from '../math/Vector2D';\nimport Behaviour from './Behaviour';\n\nexport default class Collision extends Behaviour {\n\n\t/**\n\t * The callback after collision\n\t *\n\t * @callback Callback\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Proton.Paritcle} otherParticle\n\t */\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Collision\n\t *\n\t * @todo add description to mass\n\t *\n\t * @param {Proton.Emitter} \t[emitter=null] \t\tthe attraction point coordinates\n\t * @param {Boolean} \t\t[mass=true]\n\t * @param {Callback}\t \t[callback=null]\t\tthe callback after the collision\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(emitter, mass, callback, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.reset(emitter, mass, callback);\n\t\tthis.name = 'Collision';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @memberof Proton#Proton.Collision\n\t * @method reset\n\t * @instance\n\t *\n\t * @todo add description to mass\n\t *\n\t * @param {Proton.Emitter} \t[emitter=null] \t\tthe attraction point coordinates\n\t * @param {Boolean} \t\t[mass=true]\n\t * @param {Callback}\t \t[callback=null]\t\tthe callback after the collision\n\t * @param {Number} \t\t\t[life=Infinity] \tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(emitter, mass, callback, life, easing) {\n\t\tthis.emitter = Util.initValue(emitter, null);\n\t\tthis.mass = Util.initValue(mass, true);\n\t\tthis.callback = Util.initValue(callback, null);\n\n\t\tthis.collisionPool = [];\n\t\tthis.delta = new Vector2D();\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @memberof Proton#Proton.Collision\n\t * @method applyBehaviour\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} \t\t\ttime the integrate time 1/ms\n\t * @param {Int} \t\t\tindex the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tconst newPool = this.emitter ? this.emitter.particles.slice(index) : this.pool.slice(index);\n\t\tconst length = newPool.length;\n\n\t\tlet otherParticle;\n\t\tlet lengthSq;\n\t\tlet overlap;\n\t\tlet totalMass;\n\t\tlet averageMass1, averageMass2;\n\t\tlet i;\n\n\t\tfor (i = 0; i < length; i++) {\n\t\t\totherParticle = newPool[i];\n\n\t\t\tif (otherParticle !== particle) {\n\t\t\t\tthis.delta.copy(otherParticle.p);\n\t\t\t\tthis.delta.sub(particle.p);\n\n\t\t\t\tlengthSq = this.delta.lengthSq();\n\t\t\t\tconst distance = particle.radius + otherParticle.radius;\n\n\t\t\t\tif (lengthSq <= distance * distance) {\n\t\t\t\t\toverlap = distance - Math.sqrt(lengthSq);\n\t\t\t\t\toverlap += 0.5;\n\n\t\t\t\t\ttotalMass = particle.mass + otherParticle.mass;\n\t\t\t\t\taverageMass1 = this.mass ? otherParticle.mass / totalMass : 0.5;\n\t\t\t\t\taverageMass2 = this.mass ? particle.mass / totalMass : 0.5;\n\n\t\t\t\t\tparticle.p.add(this.delta.clone().normalize().multiplyScalar(overlap * -averageMass1));\n\t\t\t\t\totherParticle.p.add(this.delta.normalize().multiplyScalar(overlap * averageMass2));\n\n\t\t\t\t\tthis.callback && this.callback(particle, otherParticle);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}","import Util from '../utils/Util';\nimport Behaviour from './Behaviour';\n\nexport default class CrossZone extends Behaviour {\n\n    /**\n     * Defines what happens if the particles come to the end of the specified zone\n     *\n     * @memberof! Proton#\n     * @augments Proton.Behaviour\n     * @constructor\n     * @alias Proton.CrossZone\n     *\n     * @param {Proton.Zone} zone \t\t\t\t\t\tcan be any Proton.Zone - e.g. Proton.RectZone()\n     * @param {String} \t\t[crossType=dead] \t\t\twhat happens if the particles pass the zone - allowed strings: dead | bound | cross\n     * @param {Number} \t\t[life=Infinity] \t\t\tthis behaviour's life\n     * @param {String} \t\t[easing=ease.easeLinear] \tthis behaviour's easing\n     *\n     * @property {String} name The Behaviour name\n     */\n    constructor(zone, crossType, life, easing) {\n        super(life, easing);\n\n        this.reset(zone, crossType);\n        this.name = 'CrossZone';\n    }\n\n    /**\n     * Reset this behaviour's parameters\n     *\n     * @method reset\n     * @memberof Proton#Proton.CrossZone\n     * @instance\n     *\n     * @param {Proton.Zone} zone \t\t\t\tcan be any Proton.Zone - e.g. Proton.RectZone()\n     * @param {String} \t\t[crossType=dead] \twhat happens if the particles pass the zone - allowed strings: dead | bound | cross\n     * @param {Number} \t\t[life=Infinity] \tthis behaviour's life\n     * @param {String} \t\t[easing=easeLinear]\tthis behaviour's easing\n     */\n    reset(zone, crossType, life, easing) {\n        this.zone = zone;\n        this.zone.crossType = Util.initValue(crossType, 'dead');\n\n        life && super.reset(life, easing);\n    }\n\n    /**\n     * Apply this behaviour for all particles every time\n     *\n     * @method applyBehaviour\n     * @memberof Proton#Proton.CrossZone\n     * @instance\n     *\n     * @param {Proton.Particle} particle\n     * @param {Number} the integrate time 1/ms\n     * @param {Int} the particle index\n     */\n    applyBehaviour(particle, time, index) {\n        this.calculate(particle, time, index);\n        this.zone.crossing(particle);\n    };\n}","import Util from \"../utils/Util\";\nimport Span from \"../math/Span\";\nimport Behaviour from \"./Behaviour\";\n\nexport default class Alpha extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Proton.Behaviour\n   * @constructor\n   * @alias Proton.Alpha\n   *\n   * @todo add description for 'a' and 'b'\n   *\n   * @param {Number} a\n   * @param {String} b\n   * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   *\n   * @property {String} name The Behaviour name\n   */\n  constructor(a, b, life, easing) {\n    super(life, easing);\n\n    this.reset(a, b);\n    this.name = \"Alpha\";\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#Proton.Alpha\n   * @instance\n   *\n   * @todo add description for 'a' and 'b'\n   *\n   * @param {Number} a\n   * @param {String} b\n   * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   */\n  reset(a, b, life, easing) {\n    this.same = b === null || b === undefined ? true : false;\n    this.a = Span.setSpanValue(Util.initValue(a, 1));\n    this.b = Span.setSpanValue(b);\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Sets the new alpha value of the particle\n   *\n   * @method initialize\n   * @memberof Proton#Proton.Alpha\n   * @instance\n   *\n   * @param {Proton.Particle} particle A single Proton generated particle\n   */\n  initialize(particle) {\n    particle.data.alphaA = this.a.getValue();\n\n    if (this.same) particle.data.alphaB = particle.data.alphaA;\n    else particle.data.alphaB = this.b.getValue();\n  }\n\n  /**\n   * @method applyBehaviour\n   * @memberof Proton#Proton.Alpha\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} \t\t\ttime the integrate time 1/ms\n   * @param {Int} \t\t\tindex the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    this.calculate(particle, time, index);\n\n    particle.alpha =\n      particle.data.alphaB +\n      (particle.data.alphaA - particle.data.alphaB) * this.energy;\n\n    if (particle.alpha < 0.001) particle.alpha = 0;\n  }\n}\n","import Span from \"../math/Span\";\nimport Util from '../utils/Util';\nimport Behaviour from './Behaviour';\n\nexport default class Scale extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Scale\n\t *\n\t * @todo add description for 'a' and 'b'\n\t *\n\t * @param {Number} a\n\t * @param {String} b\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(a, b, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.reset(a, b);\n\t\tthis.name = 'Scale';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Scale\n\t * @instance\n\t *\n\t * @param {Number} a\n\t * @param {String} b\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(a, b, life, easing) {\n\t\tthis.same = b === null || b === undefined ? true : false;\n\t\tthis.a = Span.setSpanValue(Util.initValue(a, 1));\n\t\tthis.b = Span.setSpanValue(b);\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Initialize the behaviour's parameters for all particles\n\t *\n\t * @method initialize\n\t * @memberof Proton#Proton.Scale\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t */\n\tinitialize(particle) {\n\t\tparticle.data.scaleA = this.a.getValue();\n\t\tparticle.data.oldRadius = particle.radius;\n\t\tparticle.data.scaleB = this.same ? particle.data.scaleA : this.b.getValue();\n\t};\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#Proton.Scale\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} \t\t\ttime the integrate time 1/ms\n\t * @param {Int} \t\t\tindex the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.calculate(particle, time, index);\n\t\tparticle.scale = particle.data.scaleB + (particle.data.scaleA - particle.data.scaleB) * this.energy;\n\n\t\tif (particle.scale < 0.0001) particle.scale = 0;\n\t\tparticle.radius = particle.data.oldRadius * particle.scale;\n\t}\n}","import Span from \"../math/Span\";\nimport Util from '../utils/Util';\nimport Behaviour from './Behaviour';\n\nexport default class Rotate extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Proton.Behaviour\n\t * @constructor\n\t * @alias Proton.Rotate\n\t *\n\t * @todo add description for 'a', 'b' and 'style'\n\t *\n\t * @param {String} [influence=Velocity] The rotation's influence\n\t * @param {String} b\n\t * @param {String} [style=to]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(influence, b, style, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.reset(influence, b, style);\n\t\tthis.name = 'Rotate';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Rotate\n\t * @instance\n\t *\n\t * @todo add description for 'a', 'b' and 'style'\n\t *\n\t * @param {String} a\n\t * @param {String} b\n\t * @param {String} [style=to]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(a, b, style, life, easing) {\n\t\tthis.same = b === null || b === undefined ? true : false;\n\n\t\tthis.a = Span.setSpanValue(Util.initValue(a, 'Velocity'));\n\t\tthis.b = Span.setSpanValue(Util.initValue(b, 0));\n\t\tthis.style = Util.initValue(style, 'to');\n\n\t\tlife && super.reset(life, easing);\n\t}\n\n\t/**\n\t * Initialize the behaviour's parameters for all particles\n\t *\n\t * @method initialize\n\t * @memberof Proton#Proton.Rotate\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t */\n\tinitialize(particle) {\n\t\tparticle.rotation = this.a.getValue();\n\t\tparticle.data.rotationA = this.a.getValue();\n\n\t\tif (!this.same) particle.data.rotationB = this.b.getValue();\n\t};\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#Proton.Rotate\n\t * @instance\n\t *\n\t * @param {Proton.Particle} particle\n\t * @param {Number} \t\t\ttime the integrate time 1/ms\n\t * @param {Int} \t\t\tindex the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.calculate(particle, time, index);\n\n\t\tif (!this.same) {\n\t\t\tif (this.style === 'to' || this.style === 'TO' || this.style === '_') {\n\t\t\t\tparticle.rotation += particle.data.rotationB + (particle.data.rotationA - particle.data.rotationB) * this.energy\n\t\t\t} else {\n\t\t\t\tparticle.rotation += particle.data.rotationB;\n\t\t\t}\n\t\t} else if (this.a.a === 'V' || this.a.a === 'Velocity' || this.a.a === 'v') {\n\t\t\t// beta...\n\t\t\tparticle.rotation = particle.getDirection();\n\t\t}\n\t}\n\n}\n","import ColorUtil from \"../utils/ColorUtil\";\nimport ArraySpan from \"../math/ArraySpan\";\nimport Behaviour from \"./Behaviour\";\n\nexport default class Color extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Proton.Behaviour\n   * @constructor\n   * @alias Proton.Color\n   *\n   * @param {Proton.ArraySpan | String} a the string should be a hex e.g. #000000 for black\n   * @param {Proton.ArraySpan | String} b the string should be a hex e.g. #000000 for black\n   * @param {Number} [life=Infinity] \tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   *\n   * @property {String} name The Behaviour name\n   */\n  constructor(a, b, life, easing) {\n    super(life, easing);\n\n    this.reset(a, b);\n    this.name = \"Color\";\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.ArraySpan | String} a the string should be a hex e.g. #000000 for black\n   * @param {Proton.ArraySpan | String} b the string should be a hex e.g. #000000 for black\n   * @param {Number} [life=Infinity] \tthis behaviour's life\n   * @param {String} [easing=easeLinear] \tthis behaviour's easing\n   */\n  reset(a, b, life, easing) {\n    this.a = ArraySpan.createArraySpan(a);\n    this.b = ArraySpan.createArraySpan(b);\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initialize the behaviour's parameters for all particles\n   *\n   * @method initialize\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   */\n  initialize(particle) {\n    particle.color = this.a.getValue();\n    particle.data.colorA = ColorUtil.hexToRgb(particle.color);\n\n    if (this.b) particle.data.colorB = ColorUtil.hexToRgb(this.b.getValue());\n  }\n\n  /**\n   * Apply this behaviour for all particles every time\n   *\n   * @method applyBehaviour\n   * @memberof Proton#Proton.Color\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} the integrate time 1/ms\n   * @param {Int} the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    if (this.b) {\n      this.calculate(particle, time, index);\n\n      particle.rgb.r =\n        particle.data.colorB.r +\n        (particle.data.colorA.r - particle.data.colorB.r) * this.energy;\n      particle.rgb.g =\n        particle.data.colorB.g +\n        (particle.data.colorA.g - particle.data.colorB.g) * this.energy;\n      particle.rgb.b =\n        particle.data.colorB.b +\n        (particle.data.colorA.b - particle.data.colorB.b) * this.energy;\n\n      particle.rgb.r = Math.floor(particle.rgb.r);\n      particle.rgb.g = Math.floor(particle.rgb.g);\n      particle.rgb.b = Math.floor(particle.rgb.b);\n    } else {\n      particle.rgb.r = particle.data.colorA.r;\n      particle.rgb.g = particle.data.colorA.g;\n      particle.rgb.b = particle.data.colorA.b;\n    }\n  }\n}\n","import MathUtil from \"../math/MathUtil\";\nimport Vector2D from \"../math/Vector2D\";\nimport Span from \"../math/Span\";\nimport Behaviour from \"./Behaviour\";\n\nconst CHANGING = \"changing\";\n\nexport default class Cyclone extends Behaviour {\n  /**\n   * @memberof! Proton#\n   * @augments Proton.Behaviour\n   * @constructor\n   * @alias Proton.Cyclone\n   *\n   * @param {Number} angle\n   * @param {Number} force\n   * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   *\n   * @property {String} name The Behaviour name\n   */\n  constructor(angle, force, life, easing) {\n    super(life, easing);\n    this.setAngleAndForce(angle, force);\n    this.name = \"Cyclone\";\n  }\n\n  setAngleAndForce(angle, force) {\n    this.force = CHANGING;\n    this.angle = MathUtil.PI / 2;\n\n    if (angle === \"right\") {\n      this.angle = MathUtil.PI / 2;\n    } else if (angle === \"left\") {\n      this.angle = -MathUtil.PI / 2;\n    } else if (angle === \"random\") {\n      this.angle = \"random\";\n    } else if (angle instanceof Span) {\n      this.angle = \"span\";\n      this.span = angle;\n    } else if (angle) {\n      this.angle = angle;\n    }\n\n    if (\n      String(force).toLowerCase() === \"changing\" ||\n      String(force).toLowerCase() === \"chang\" ||\n      String(force).toLowerCase() === \"auto\"\n    ) {\n      this.force = CHANGING;\n    } else if (force) {\n      this.force = force;\n    }\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @method reset\n   * @memberof Proton#Proton.Cyclone\n   * @instance\n   *\n   * @param {Number} angle\n   * @param {Number} force\n   * @param {Number} [life=Infinity] \t\t\tthis behaviour's life\n   * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n   */\n  reset(angle, force, life, easing) {\n    this.angle = MathUtil.PI / 2;\n    this.setAngleAndForce(angle, force);\n    life && super.reset(life, easing);\n  }\n\n  initialize(particle) {\n    if (this.angle === \"random\") {\n      particle.data.cangle = MathUtil.randomAToB(-MathUtil.PI, MathUtil.PI);\n    } else if (this.angle === \"span\") {\n      particle.data.cangle = this.span.getValue();\n    }\n\n    particle.data.cyclone = new Vector2D(0, 0);\n  }\n\n  /**\n   * Apply this behaviour for all particles every time\n   *\n   * @method applyBehaviour\n   * @memberof Proton#Proton.Cyclone\n   * @instance\n   *\n   * @param {Proton.Particle} particle\n   * @param {Number} the integrate time 1/ms\n   * @param {Int} the particle index\n   */\n  applyBehaviour(particle, time, index) {\n    this.calculate(particle, time, index);\n\n    let length;\n    let gradient = particle.v.getGradient();\n    if (this.angle === \"random\" || this.angle === \"span\") {\n      gradient += particle.data.cangle;\n    } else {\n      gradient += this.angle;\n    }\n\n    if (this.force === CHANGING) {\n      length = particle.v.length() / 100;\n    } else {\n      length = this.force;\n    }\n\n    particle.data.cyclone.x = length * Math.cos(gradient);\n    particle.data.cyclone.y = length * Math.sin(gradient);\n    particle.data.cyclone = this.normalizeForce(particle.data.cyclone);\n    particle.a.add(particle.data.cyclone);\n  }\n}\n","import Attraction from './Attraction';\n\nexport default class Repulsion extends Attraction {\n\n\t/**\n\t * The oppisite of Proton.Attraction - turns the force\n\t *\n\t * @memberof! Proton#\n\t * @augments Proton#Proton.Attraction\n\t * @constructor\n\t * @alias Proton.Repulsion\n\t *\n\t * @todo add description for 'force' and 'radius'\n\t *\n\t * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n\t * @param {Number} [force=100]\n\t * @param {Number} [radius=1000]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t *\n\t * @property {Number} force\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(targetPosition, force, radius, life, easing) {\n\t\tsuper(targetPosition, force, radius, life, easing);\n\n\t\tthis.force *= -1;\n\t\tthis.name = 'Repulsion';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#Proton.Repulsion\n\t * @instance\n\t *\n\t * @todo add description for 'force' and 'radius'\n\t *\n\t * @param {Proton.Vector2D} targetPosition the attraction point coordinates\n\t * @param {Number} [force=100]\n\t * @param {Number} [radius=1000]\n\t * @param {Number} [life=Infinity] \t\t\t\tthis behaviour's life\n\t * @param {String} [easing=ease.easeLinear] \tthis behaviour's easing\n\t */\n\treset(targetPosition, force, radius, life, easing) {\n\t\tsuper.reset(targetPosition, force, radius, life, easing);\n\t\tthis.force *= -1;\n\t}\n}\n","import Util from '../utils/Util';\nimport Vector2D from '../math/Vector2D';\nimport Behaviour from './Behaviour';\n\nexport default class GravityWell extends Behaviour {\n\n\t/**\n\t * @memberof! Proton#\n\t * @augments Behaviour\n\t * @constructor\n\t * @alias GravityWell\n\t *\n\t * @param {Vector2D} [centerPoint=new Vector2D] The point in the center\n\t * @param {Number} [force=100]\t\t\t\t\tThe force\n\t * @param {Number} [life=Infinity]\t\t\t\tthis behaviour's life\n\t * @param {String} [easing=easeLinear]\tthis behaviour's easing\n\t *\n\t * @property {String} name The Behaviour name\n\t */\n\tconstructor(centerPoint, force, life, easing) {\n\t\tsuper(life, easing);\n\n\t\tthis.distanceVec = new Vector2D();\n\t\tthis.centerPoint = Util.initValue(centerPoint, new Vector2D);\n\t\tthis.force = Util.initValue(this.normalizeValue(force), 100);\n\n\t\tthis.name = 'GravityWell';\n\t}\n\n\t/**\n\t * Reset this behaviour's parameters\n\t *\n\t * @method reset\n\t * @memberof Proton#GravityWell\n\t * @instance\n\t *\n\t * @param {Vector2D} [centerPoint=new Vector2D] The point in the center\n\t * @param {Number} [force=100]\t\t\t\t\tThe force\n\t * @param {Number} [life=Infinity]\t\t\t\tthis behaviour's life\n\t * @param {String} [easing=easeLinear]\tthis behaviour's easing\n\t */\n\treset(centerPoint, force, life, easing) {\n\t\tthis.distanceVec = new Vector2D();\n\t\tthis.centerPoint = Util.initValue(centerPoint, new Vector2D);\n\t\tthis.force = Util.initValue(this.normalizeValue(force), 100);\n\n\t\tlife && super.reset(life, easing);\n\t};\n\n\t/**\n\t * @inheritdoc\n\t */\n\tinitialize(particle) {\n\t};\n\n\t/**\n\t * Apply this behaviour for all particles every time\n\t *\n\t * @method applyBehaviour\n\t * @memberof Proton#GravityWell\n\t * @instance\n\t *\n\t * @param {Particle} particle\n\t * @param {Number} the integrate time 1/ms\n\t * @param {Int} the particle index\n\t */\n\tapplyBehaviour(particle, time, index) {\n\t\tthis.distanceVec.set(this.centerPoint.x - particle.p.x, this.centerPoint.y - particle.p.y);\n\t\tconst distanceSq = this.distanceVec.lengthSq();\n\n\t\tif (distanceSq !== 0) {\n\t\t\tconst distance = this.distanceVec.length();\n\t\t\tconst factor = (this.force * time) / (distanceSq * distance);\n\n\t\t\tparticle.v.x += factor * this.distanceVec.x;\n\t\t\tparticle.v.y += factor * this.distanceVec.y;\n\t\t}\n\t}\n}","import Util from \"../utils/Util\";\nimport Initialize from \"./Initialize\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default {\n  initialize(emitter, particle, initializes) {\n    const length = initializes.length;\n    let i;\n\n    for (i = 0; i < length; i++) {\n      if (initializes[i] instanceof Initialize) {\n        initializes[i].init(emitter, particle);\n      } else {\n        this.init(emitter, particle, initializes[i]);\n      }\n    }\n\n    this.bindEmitter(emitter, particle);\n  },\n\n  // init\n  init(emitter, particle, initialize) {\n    Util.setProp(particle, initialize);\n    Util.setVectorVal(particle, initialize);\n  },\n\n  bindEmitter(emitter, particle) {\n    if (emitter.bindEmitter) {\n      particle.p.add(emitter.p);\n      particle.v.add(emitter.v);\n      particle.a.add(emitter.a);\n\n      particle.v.rotate(MathUtil.degreeTransform(emitter.rotation));\n    }\n  }\n};\n","import Util from \"../utils/Util\";\nimport Puid from \"../utils/Puid\";\nimport Particle from \"../core/Particle\";\nimport EventDispatcher from \"../events/EventDispatcher\";\n\nimport Rate from \"../initialize/Rate\";\nimport InitializeUtil from \"../initialize/InitializeUtil\";\n\nexport default class Emitter extends Particle {\n  /**\n   * You can use this emit particles.\n   *\n   * It will dispatch follow events:\n   * PARTICLE_CREATED\n   * PARTICLE_UPDATA\n   * PARTICLE_DEAD\n   *\n   * @class Emitter\n   * @constructor\n   * @param {Object} conf the parameters object;\n   * for example {damping:0.01,bindEmitter:false}\n   */\n  constructor(conf = {}) {\n    super(conf);\n\n    this.particles = [];\n    this.behaviours = [];\n    this.initializes = [];\n\n    this.emitTime = 0;\n    this.emitSpeed = 0;\n    this.totalTime = -1;\n\n    /**\n     * The friction coefficient for all particle emit by This;\n     * @property damping\n     * @type {Number}\n     * @default 0.006\n     */\n    this.damping = 0.006;\n\n    /**\n     * If bindEmitter the particles can bind this emitter's property;\n     * @property bindEmitter\n     * @type {Boolean}\n     * @default true\n     */\n    this.bindEmitter = true;\n\n    /**\n     * The number of particles per second emit (a [particle]/b [s]);\n     * @property rate\n     * @type {Rate}\n     * @default Rate(1, .1)\n     */\n    this.rate = new Rate(1, 0.1);\n\n    this.name = \"Emitter\";\n    this.id = Puid.id(this.name);\n  }\n\n  /**\n   * start emit particle\n   * @method emit\n   * @param {Number} emitTime begin emit time;\n   * @param {String} life the life of this emitter\n   */\n  emit(totalTime, life) {\n    this.stoped = false;\n    this.emitTime = 0;\n    this.totalTime = Util.initValue(totalTime, Infinity);\n\n    if (life === true || life === \"life\" || life === \"destroy\") {\n      this.life = totalTime === \"once\" ? 1 : this.totalTime;\n    } else if (!isNaN(life)) {\n      this.life = life;\n    }\n\n    this.rate.init();\n  }\n\n  /**\n   * stop emiting\n   * @method stop\n   */\n  stop() {\n    this.totalTime = -1;\n    this.emitTime = 0;\n    this.stoped = true;\n  }\n\n  preEmit(time) {\n    let oldStoped = this.stoped;\n    let oldEmitTime = this.emitTime;\n    let oldTotalTime = this.totalTime;\n\n    this.stoped = false;\n    this.emitTime = 0;\n    this.totalTime = time;\n    this.rate.init();\n\n    const step = 0.0167;\n    while (time > step) {\n      time -= step;\n      this.update(step);\n    }\n\n    this.stoped = oldStoped;\n    this.emitTime = oldEmitTime + Math.max(time, 0);\n    this.totalTime = oldTotalTime;\n  }\n\n  /**\n   * remove current all particles\n   * @method removeAllParticles\n   */\n  removeAllParticles() {\n    let i = this.particles.length;\n    while (i--) this.particles[i].dead = true;\n  }\n\n  /**\n   * add initialize to this emitter\n   * @method addSelfInitialize\n   */\n  addSelfInitialize(initialize) {\n    if (initialize[\"init\"]) {\n      initialize.init(this);\n    } else {\n      this.initAll();\n    }\n  }\n\n  /**\n   * add the Initialize to particles;\n   *\n   * you can use initializes array:for example emitter.addInitialize(initialize1,initialize2,initialize3);\n   * @method addInitialize\n   * @param {Initialize} initialize like this new Radius(1, 12)\n   */\n  addInitialize(...rest) {\n    let i = rest.length;\n    while (i--) this.initializes.push(rest[i]);\n  }\n\n  /**\n   * remove the Initialize\n   * @method removeInitialize\n   * @param {Initialize} initialize a initialize\n   */\n  removeInitialize(initializer) {\n    const index = this.initializes.indexOf(initializer);\n    if (index > -1) this.initializes.splice(index, 1);\n  }\n\n  /**\n   * remove all Initializes\n   * @method removeInitializers\n   */\n  removeAllInitializers() {\n    Util.emptyArray(this.initializes);\n  }\n\n  /**\n   * add the Behaviour to particles;\n   *\n   * you can use Behaviours array:emitter.addBehaviour(Behaviour1,Behaviour2,Behaviour3);\n   * @method addBehaviour\n   * @param {Behaviour} behaviour like this new Color('random')\n   */\n  addBehaviour(...rest) {\n    let i = arguments.length;\n    while (i--) {\n      let behaviour = rest[i];\n      this.behaviours.push(behaviour);\n      if (behaviour.parents) behaviour.parents.push(this);\n    }\n  }\n\n  /**\n   * remove the Behaviour\n   * @method removeBehaviour\n   * @param {Behaviour} behaviour a behaviour\n   */\n  removeBehaviour(behaviour) {\n    let index = this.behaviours.indexOf(behaviour);\n    this.behaviours.splice(index, 1);\n\n    if (behaviour.parents) {\n      index = behaviour.parents.indexOf(behaviour);\n      behaviour.parents.splice(index, 1);\n    }\n\n    return index;\n  }\n\n  /**\n   * remove all behaviours\n   * @method removeAllBehaviours\n   */\n  removeAllBehaviours() {\n    Util.emptyArray(this.behaviours);\n  }\n\n  // emitter update\n  update(time) {\n    this.age += time;\n    if (this.age >= this.life || this.dead) this.destroy();\n\n    this.emitting(time);\n    this.integrate(time);\n  }\n\n  integrate(time) {\n    if (!this.parent) return;\n\n    const damping = 1 - this.damping;\n    this.parent.integrator.calculate(this, time, damping);\n\n    const length = this.particles.length;\n    let i, particle;\n\n    for (i = length - 1; i >= 0; i--) {\n      particle = this.particles[i];\n\n      // particle update\n      particle.update(time, i);\n      this.parent.integrator.calculate(particle, time, damping);\n      this.dispatch(\"PARTICLE_UPDATE\", particle);\n\n      // check dead\n      if (particle.dead) {\n        this.dispatch(\"PARTICLE_DEAD\", particle);\n\n        this.parent.pool.expire(particle);\n        this.particles.splice(i, 1);\n      }\n    }\n  }\n\n  dispatch(event, target) {\n    this.parent && this.parent.dispatchEvent(event, target);\n    this.bindEvent && this.dispatchEvent(event, target);\n  }\n\n  emitting(time) {\n    if (this.totalTime === \"once\") {\n      let i;\n      const length = this.rate.getValue(99999);\n\n      if (length > 0) this.emitSpeed = length;\n      for (i = 0; i < length; i++) this.createParticle();\n      this.totalTime = \"none\";\n    } else {\n      this.emitTime += time;\n\n      if (this.emitTime < this.totalTime) {\n        const length = this.rate.getValue(time);\n        let i;\n\n        if (length > 0) this.emitSpeed = length;\n        for (i = 0; i < length; i++) this.createParticle();\n      }\n    }\n  }\n\n  /**\n   * create single particle;\n   *\n   * can use emit({x:10},new Gravity(10),{'particleUpdate',fun}) or emit([{x:10},new Initialize],new Gravity(10),{'particleUpdate',fun})\n   * @method removeAllParticles\n   */\n  createParticle(initialize, behaviour) {\n    const particle = this.parent.pool.get(Particle);\n    this.setupParticle(particle, initialize, behaviour);\n    this.dispatch(\"PARTICLE_CREATED\", particle);\n\n    return particle;\n  }\n\n  setupParticle(particle, initialize, behaviour) {\n    let initializes = this.initializes;\n    let behaviours = this.behaviours;\n\n    if (initialize) initializes = Util.toArray(initialize);\n    if (behaviour) behaviours = Util.toArray(behaviour);\n\n    particle.reset();\n    InitializeUtil.initialize(this, particle, initializes);\n    particle.addBehaviours(behaviours);\n    particle.parent = this;\n\n    this.particles.push(particle);\n  }\n\n  remove() {\n    this.stop();\n    Util.destroyAll(this.particles);\n  }\n\n  /**\n   * Destory this Emitter\n   * @method destroy\n   */\n  destroy() {\n    this.dead = true;\n    this.remove();\n    this.removeAllInitializers();\n    this.removeAllBehaviours();\n    this.parent && this.parent.removeEmitter(this);\n  }\n}\n\nEventDispatcher.bind(Emitter);\n","import Emitter from \"./Emitter\";\n\nexport default class BehaviourEmitter extends Emitter {\n  /**\n   * The BehaviourEmitter class inherits from Proton.Emitter\n   *\n   * use the BehaviourEmitter you can add behaviours to self;\n   * @class Proton.BehaviourEmitter\n   * @constructor\n   * @param {Object} conf the parameters object;\n   */\n  constructor(conf) {\n    super(conf);\n\n    this.selfBehaviours = [];\n  }\n\n  /**\n   * add the Behaviour to emitter;\n   *\n   * you can use Behaviours array:emitter.addSelfBehaviour(Behaviour1,Behaviour2,Behaviour3);\n   * @method addSelfBehaviour\n   * @param {Proton.Behaviour} behaviour like this new Proton.Color('random')\n   */\n  addSelfBehaviour(...rest) {\n    let i,\n      length = rest.length;\n\n    for (i = 0; i < length; i++) {\n      let behaviour = rest[i];\n      this.selfBehaviours.push(behaviour);\n      behaviour.initialize(this);\n    }\n  }\n\n  /**\n   * remove the Behaviour for self\n   * @method removeSelfBehaviour\n   * @param {Proton.Behaviour} behaviour a behaviour\n   */\n  removeSelfBehaviour(behaviour) {\n    const index = this.selfBehaviours.indexOf(behaviour);\n    if (index > -1) this.selfBehaviours.splice(index, 1);\n  }\n\n  update(time) {\n    super.update(time);\n\n    if (!this.sleep) {\n      const length = this.selfBehaviours.length;\n      let i;\n\n      for (i = 0; i < length; i++) {\n        this.selfBehaviours[i].applyBehaviour(this, time, i);\n      }\n    }\n  }\n}\n","import Util from \"../utils/Util\";\nimport Emitter from \"./Emitter\";\n\nexport default class FollowEmitter extends Emitter {\n  /**\n   * The FollowEmitter class inherits from Proton.Emitter\n   *\n   * use the FollowEmitter will emit particle when mousemoving\n   *\n   * @class Proton.FollowEmitter\n   * @constructor\n   * @param {Element} mouseTarget mouseevent's target;\n   * @param {Number} ease the easing of following speed;\n   * @default 0.7\n   * @param {Object} conf the parameters object;\n   */\n  constructor(mouseTarget, ease, conf) {\n    super(conf);\n\n    this.mouseTarget = Util.initValue(mouseTarget, window);\n    this.ease = Util.initValue(ease, 0.7);\n\n    this._allowEmitting = false;\n    this.initEventHandler();\n  }\n\n  initEventHandler() {\n    this.mousemoveHandler = e => this.mousemove.call(this, e);\n    this.mousedownHandler = e => this.mousedown.call(this, e);\n    this.mouseupHandler = e => this.mouseup.call(this, e);\n\n    this.mouseTarget.addEventListener(\n      \"mousemove\",\n      this.mousemoveHandler,\n      false\n    );\n  }\n\n  /**\n   * start emit particle\n   * @method emit\n   */\n  emit() {\n    this._allowEmitting = true;\n  }\n\n  /**\n   * stop emiting\n   * @method stop\n   */\n  stop() {\n    this._allowEmitting = false;\n  }\n\n  mousemove(e) {\n    if (e.layerX || e.layerX === 0) {\n      this.p.x += (e.layerX - this.p.x) * this.ease;\n      this.p.y += (e.layerY - this.p.y) * this.ease;\n    } else if (e.offsetX || e.offsetX === 0) {\n      this.p.x += (e.offsetX - this.p.x) * this.ease;\n      this.p.y += (e.offsetY - this.p.y) * this.ease;\n    }\n\n    if (this._allowEmitting) super.emit(\"once\");\n  }\n\n  /**\n   * Destory this Emitter\n   * @method destroy\n   */\n  destroy() {\n    super.destroy();\n    this.mouseTarget.removeEventListener(\n      \"mousemove\",\n      this.mousemoveHandler,\n      false\n    );\n  }\n}\n","import Pool from \"../core/Pool\";\n\nexport default class BaseRenderer {\n    constructor(element, stroke) {\n        this.pool = new Pool();\n        this.element = element;\n        this.stroke = stroke;\n        this.circleConf = { isCircle: true };\n\n        this.initHandler();\n        this.name = \"BaseRenderer\";\n    }\n\n    setStroke(color = \"#000000\", thinkness = 1) {\n        this.stroke = { color, thinkness };\n    }\n\n    initHandler() {\n        this._protonUpdateHandler = () => {\n            this.onProtonUpdate.call(this);\n        };\n\n        this._protonUpdateAfterHandler = () => {\n            this.onProtonUpdateAfter.call(this);\n        };\n\n        this._emitterAddedHandler = emitter => {\n            this.onEmitterAdded.call(this, emitter);\n        };\n\n        this._emitterRemovedHandler = emitter => {\n            this.onEmitterRemoved.call(this, emitter);\n        };\n\n        this._particleCreatedHandler = particle => {\n            this.onParticleCreated.call(this, particle);\n        };\n\n        this._particleUpdateHandler = particle => {\n            this.onParticleUpdate.call(this, particle);\n        };\n\n        this._particleDeadHandler = particle => {\n            this.onParticleDead.call(this, particle);\n        };\n    }\n\n    init(proton) {\n        this.parent = proton;\n\n        proton.addEventListener(\"PROTON_UPDATE\", this._protonUpdateHandler);\n        proton.addEventListener(\n            \"PROTON_UPDATE_AFTER\",\n            this._protonUpdateAfterHandler\n        );\n\n        proton.addEventListener(\"EMITTER_ADDED\", this._emitterAddedHandler);\n        proton.addEventListener(\"EMITTER_REMOVED\", this._emitterRemovedHandler);\n\n        proton.addEventListener(\n            \"PARTICLE_CREATED\",\n            this._particleCreatedHandler\n        );\n        proton.addEventListener(\"PARTICLE_UPDATE\", this._particleUpdateHandler);\n        proton.addEventListener(\"PARTICLE_DEAD\", this._particleDeadHandler);\n    }\n\n    resize(width, height) {}\n\n    destroy() {\n        this.remove();\n    }\n\n    remove(proton) {\n        this.parent.removeEventListener(\n            \"PROTON_UPDATE\",\n            this._protonUpdateHandler\n        );\n        this.parent.removeEventListener(\n            \"PROTON_UPDATE_AFTER\",\n            this._protonUpdateAfterHandler\n        );\n\n        this.parent.removeEventListener(\n            \"EMITTER_ADDED\",\n            this._emitterAddedHandler\n        );\n        this.parent.removeEventListener(\n            \"EMITTER_REMOVED\",\n            this._emitterRemovedHandler\n        );\n\n        this.parent.removeEventListener(\n            \"PARTICLE_CREATED\",\n            this._particleCreatedHandler\n        );\n        this.parent.removeEventListener(\n            \"PARTICLE_UPDATE\",\n            this._particleUpdateHandler\n        );\n        this.parent.removeEventListener(\n            \"PARTICLE_DEAD\",\n            this._particleDeadHandler\n        );\n\n        this.parent = null;\n    }\n\n    onProtonUpdate() {}\n    onProtonUpdateAfter() {}\n\n    onEmitterAdded(emitter) {}\n    onEmitterRemoved(emitter) {}\n\n    onParticleCreated(particle) {}\n    onParticleUpdate(particle) {}\n    onParticleDead(particle) {}\n}\n","import ImgUtil from \"../utils/ImgUtil\";\nimport ColorUtil from \"../utils/ColorUtil\";\nimport MathUtil from \"../math/MathUtil\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nexport default class CanvasRenderer extends BaseRenderer {\n    constructor(element) {\n        super(element);\n\n        this.stroke = null;\n        this.context = this.element.getContext(\"2d\");\n        this.bufferCache = {};\n        this.name = \"CanvasRenderer\";\n    }\n\n    resize(width, height) {\n        this.element.width = width;\n        this.element.height = height;\n    }\n\n    onProtonUpdate() {\n        this.context.clearRect(0, 0, this.element.width, this.element.height);\n    }\n\n    onParticleCreated(particle) {\n        if (particle.body) {\n            ImgUtil.getImgFromCache(particle.body, this.addImg2Body, particle);\n        } else {\n            particle.color = particle.color || \"#ff0000\";\n        }\n    }\n\n    onParticleUpdate(particle) {\n        if (particle.body) {\n            if (particle.body instanceof Image) this.drawImage(particle);\n        } else {\n            this.drawCircle(particle);\n        }\n    }\n\n    onParticleDead(particle) {\n        particle.body = null;\n    }\n\n    // private\n    addImg2Body(img, particle) {\n        particle.body = img;\n    }\n\n    // private drawCircle\n    drawImage(particle) {\n        const w = (particle.body.width * particle.scale) | 0;\n        const h = (particle.body.height * particle.scale) | 0;\n        const x = particle.p.x - w / 2;\n        const y = particle.p.y - h / 2;\n\n        if (!!particle.color) {\n            if (!particle.data[\"buffer\"])\n                particle.data.buffer = this.createBuffer(particle.body);\n\n            const bufContext = particle.data.buffer.getContext(\"2d\");\n            bufContext.clearRect(\n                0,\n                0,\n                particle.data.buffer.width,\n                particle.data.buffer.height\n            );\n            bufContext.globalAlpha = particle.alpha;\n            bufContext.drawImage(particle.body, 0, 0);\n\n            bufContext.globalCompositeOperation = \"source-atop\";\n            bufContext.fillStyle = ColorUtil.rgbToHex(particle.rgb);\n            bufContext.fillRect(\n                0,\n                0,\n                particle.data.buffer.width,\n                particle.data.buffer.height\n            );\n            bufContext.globalCompositeOperation = \"source-over\";\n            bufContext.globalAlpha = 1;\n\n            this.context.drawImage(\n                particle.data.buffer,\n                0,\n                0,\n                particle.data.buffer.width,\n                particle.data.buffer.height,\n                x,\n                y,\n                w,\n                h\n            );\n        } else {\n            this.context.save();\n\n            this.context.globalAlpha = particle.alpha;\n            this.context.translate(particle.p.x, particle.p.y);\n            this.context.rotate(MathUtil.degreeTransform(particle.rotation));\n            this.context.translate(-particle.p.x, -particle.p.y);\n            this.context.drawImage(\n                particle.body,\n                0,\n                0,\n                particle.body.width,\n                particle.body.height,\n                x,\n                y,\n                w,\n                h\n            );\n\n            this.context.globalAlpha = 1;\n            this.context.restore();\n        }\n    }\n\n    // private drawCircle --\n    drawCircle(particle) {\n        if (particle.rgb) {\n            this.context.fillStyle = `rgba(${particle.rgb.r},${particle.rgb.g},${particle.rgb.b},${particle.alpha})`;\n        } else {\n            this.context.fillStyle = particle.color;\n        }\n\n        // draw circle\n        this.context.beginPath();\n        this.context.arc(\n            particle.p.x,\n            particle.p.y,\n            particle.radius,\n            0,\n            Math.PI * 2,\n            true\n        );\n\n        if (this.stroke) {\n            this.context.strokeStyle = this.stroke.color;\n            this.context.lineWidth = this.stroke.thinkness;\n            this.context.stroke();\n        }\n\n        this.context.closePath();\n        this.context.fill();\n    }\n\n    // private createBuffer\n    createBuffer(image) {\n        if (image instanceof Image) {\n            const size = image.width + \"_\" + image.height;\n            let canvas = this.bufferCache[size];\n\n            if (!canvas) {\n                canvas = document.createElement(\"canvas\");\n                canvas.width = image.width;\n                canvas.height = image.height;\n                this.bufferCache[size] = canvas;\n            }\n\n            return canvas;\n        }\n    }\n}\n","import DomUtil from \"../utils/DomUtil\";\nimport ImgUtil from \"../utils/ImgUtil\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nexport default class DomRenderer extends BaseRenderer {\n  constructor(element) {\n    super(element);\n\n    this.stroke = null;\n    this.pool.create = (body, particle) => this.createBody(body, particle);\n    this.addImg2Body = this.addImg2Body.bind(this);\n\n    this.transform3d = false;\n    this.name = \"DomRenderer\";\n  }\n\n  onParticleCreated(particle) {\n    if (particle.body) {\n      ImgUtil.getImgFromCache(particle.body, this.addImg2Body, particle);\n    } else {\n      particle.body = this.pool.get(this.circleConf, particle);\n      this.element.appendChild(particle.body);\n    }\n  }\n\n  onParticleUpdate(particle) {\n    if (this.bodyReady(particle)) {\n      if (this.transform3d)\n        DomUtil.transform3d(\n          particle.body,\n          particle.p.x,\n          particle.p.y,\n          particle.scale,\n          particle.rotation\n        );\n      else\n        DomUtil.transform(\n          particle.body,\n          particle.p.x,\n          particle.p.y,\n          particle.scale,\n          particle.rotation\n        );\n\n      particle.body.style.opacity = particle.alpha;\n      if (particle.body.isCircle) {\n        particle.body.style.backgroundColor = particle.color || \"#ff0000\";\n      }\n    }\n  }\n\n  onParticleDead(particle) {\n    if (this.bodyReady(particle)) {\n      this.element.removeChild(particle.body);\n      this.pool.expire(particle.body);\n      particle.body = null;\n    }\n  }\n\n  bodyReady(particle) {\n    return (\n      typeof particle.body === \"object\" &&\n      particle.body &&\n      !particle.body.isInner\n    );\n  }\n\n  // private\n  addImg2Body(img, particle) {\n    if (particle.dead) return;\n    particle.body = this.pool.get(img, particle);\n    DomUtil.resize(particle.body, img.width, img.height);\n\n    this.element.appendChild(particle.body);\n  }\n\n  createBody(body, particle) {\n    if (body.isCircle) return this.createCircle(particle);\n    else return this.createSprite(body, particle);\n  }\n\n  // private --\n  createCircle(particle) {\n    const dom = DomUtil.createDiv(\n      `${particle.id}_dom`,\n      2 * particle.radius,\n      2 * particle.radius\n    );\n    dom.style.borderRadius = `${particle.radius}px`;\n\n    if (this.stroke) {\n      dom.style.borderColor = this.stroke.color;\n      dom.style.borderWidth = `${this.stroke.thinkness}px`;\n    }\n    dom.isCircle = true;\n\n    return dom;\n  }\n\n  createSprite(body, particle) {\n    const url = typeof body === \"string\" ? body : body.src;\n    const dom = DomUtil.createDiv(\n      `${particle.id}_dom`,\n      body.width,\n      body.height\n    );\n    dom.style.backgroundImage = `url(${url})`;\n\n    return dom;\n  }\n}\n","import BaseRenderer from \"./BaseRenderer\";\n\nexport default class EaselRenderer extends BaseRenderer {\n  constructor(element, stroke) {\n    super(element);\n\n    this.stroke = stroke;\n    this.name = \"EaselRenderer\";\n  }\n\n  onParticleCreated(particle) {\n    if (particle.body) {\n      this.createSprite(particle);\n    } else {\n      this.createCircle(particle);\n    }\n\n    this.element.addChild(particle.body);\n  }\n\n  onParticleUpdate(particle) {\n    if (particle.body) {\n      particle.body.x = particle.p.x;\n      particle.body.y = particle.p.y;\n\n      particle.body.alpha = particle.alpha;\n      particle.body.scaleX = particle.body.scaleY = particle.scale;\n      particle.body.rotation = particle.rotation;\n    }\n  }\n\n  onParticleDead(particle) {\n    if (particle.body) {\n      particle.body.parent && particle.body.parent.removeChild(particle.body);\n      this.pool.expire(particle.body);\n      particle.body = null;\n    }\n\n    if (particle.graphics) this.pool.expire(particle.graphics);\n  }\n\n  // private\n  createSprite(particle) {\n    particle.body = this.pool.get(particle.body);\n\n    if (particle.body.parent) return;\n    if (particle.body[\"image\"]) {\n      particle.body.regX = particle.body.image.width / 2;\n      particle.body.regY = particle.body.image.height / 2;\n    }\n  }\n\n  createCircle(particle) {\n    const graphics = this.pool.get(createjs.Graphics);\n\n    if (this.stroke) {\n      if (this.stroke instanceof String) graphics.beginStroke(this.stroke);\n      else graphics.beginStroke(\"#000000\");\n    }\n    graphics\n      .beginFill(particle.color || \"#ff0000\")\n      .drawCircle(0, 0, particle.radius);\n\n    const shape = this.pool.get(createjs.Shape, [graphics]);\n\n    particle.body = shape;\n    particle.graphics = graphics;\n  }\n}\n","import Rectangle from \"../math/Rectangle\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nexport default class PixelRenderer extends BaseRenderer {\n  constructor(element, rectangle) {\n    super(element);\n\n    this.context = this.element.getContext(\"2d\");\n    this.imageData = null;\n    this.rectangle = null;\n    this.rectangle = rectangle;\n    this.createImageData(rectangle);\n\n    this.name = \"PixelRenderer\";\n  }\n\n  resize(width, height) {\n    this.element.width = width;\n    this.element.height = height;\n  }\n\n  createImageData(rectangle) {\n    this.rectangle = rectangle\n      ? rectangle\n      : new Rectangle(0, 0, this.element.width, this.element.height);\n    this.imageData = this.context.createImageData(\n      this.rectangle.width,\n      this.rectangle.height\n    );\n    this.context.putImageData(\n      this.imageData,\n      this.rectangle.x,\n      this.rectangle.y\n    );\n  }\n\n  onProtonUpdate() {\n    this.context.clearRect(\n      this.rectangle.x,\n      this.rectangle.y,\n      this.rectangle.width,\n      this.rectangle.height\n    );\n    this.imageData = this.context.getImageData(\n      this.rectangle.x,\n      this.rectangle.y,\n      this.rectangle.width,\n      this.rectangle.height\n    );\n  }\n\n  onProtonUpdateAfter() {\n    this.context.putImageData(\n      this.imageData,\n      this.rectangle.x,\n      this.rectangle.y\n    );\n  }\n\n  onParticleCreated(particle) {}\n\n  onParticleUpdate(particle) {\n    if (this.imageData) {\n      this.setPixel(\n        this.imageData,\n        Math.floor(particle.p.x - this.rectangle.x),\n        Math.floor(particle.p.y - this.rectangle.y),\n        particle\n      );\n    }\n  }\n\n  setPixel(imagedata, x, y, particle) {\n    const rgb = particle.rgb;\n    if (x < 0 || x > this.element.width || y < 0 || y > this.elementwidth)\n      return;\n\n    const i = ((y >> 0) * imagedata.width + (x >> 0)) * 4;\n\n    imagedata.data[i] = rgb.r;\n    imagedata.data[i + 1] = rgb.g;\n    imagedata.data[i + 2] = rgb.b;\n    imagedata.data[i + 3] = particle.alpha * 255;\n  }\n\n  onParticleDead(particle) {}\n}\n","import ColorUtil from \"../utils/ColorUtil\";\nimport MathUtil from \"../math/MathUtil\";\nimport BaseRenderer from \"./BaseRenderer\";\n\nlet PIXIClass;\nexport default class PixiRenderer extends BaseRenderer {\n  constructor(element, stroke) {\n    super(element);\n\n    this.stroke = stroke;\n    this.color = false;\n    this.setColor = false;\n    this.blendMode = null;\n    this.pool.create = (body, particle) => this.createBody(body, particle);\n    this.setPIXI(window.PIXI);\n\n    this.name = \"PixiRenderer\";\n  }\n\n  setPIXI(PIXI) {\n    try {\n      PIXIClass = PIXI || { Sprite: {} };\n      this.createFromImage =\n        PIXIClass.Sprite.from || PIXIClass.Sprite.fromImage;\n    } catch (e) {}\n  }\n\n  onProtonUpdate() {}\n\n  /**\n   * @param particle\n   */\n  onParticleCreated(particle) {\n    if (particle.body) {\n      particle.body = this.pool.get(particle.body, particle);\n    } else {\n      particle.body = this.pool.get(this.circleConf, particle);\n    }\n\n    if (this.blendMode) {\n      particle.body.blendMode = this.blendMode;\n    }\n\n    this.element.addChild(particle.body);\n  }\n\n  /**\n   * @param particle\n   */\n  onParticleUpdate(particle) {\n    this.transform(particle, particle.body);\n\n    if (this.setColor === true || this.color === true) {\n      particle.body.tint = ColorUtil.getHex16FromParticle(particle);\n    }\n  }\n\n  /**\n   * @param particle\n   */\n  onParticleDead(particle) {\n    this.element.removeChild(particle.body);\n    this.pool.expire(particle.body);\n    particle.body = null;\n  }\n\n  destroy(particles) {\n    super.destroy();\n    this.pool.destroy();\n\n    let i = particles.length;\n    while (i--) {\n      let particle = particles[i];\n      if (particle.body) {\n        this.element.removeChild(particle.body);\n      }\n    }\n  }\n\n  transform(particle, target) {\n    target.x = particle.p.x;\n    target.y = particle.p.y;\n\n    target.alpha = particle.alpha;\n\n    target.scale.x = particle.scale;\n    target.scale.y = particle.scale;\n\n    // using cached version of MathUtil.PI_180 for slight performance increase.\n    target.rotation = particle.rotation * MathUtil.PI_180; // MathUtil.PI_180;\n  }\n\n  createBody(body, particle) {\n    if (body.isCircle) return this.createCircle(particle);\n    else return this.createSprite(body);\n  }\n\n  createSprite(body) {\n    const sprite = body.isInner\n      ? this.createFromImage(body.src)\n      : new PIXIClass.Sprite(body);\n\n    sprite.anchor.x = 0.5;\n    sprite.anchor.y = 0.5;\n\n    return sprite;\n  }\n\n  createCircle(particle) {\n    const graphics = new PIXIClass.Graphics();\n\n    if (this.stroke) {\n      const stroke = this.stroke instanceof String ? this.stroke : 0x000000;\n      graphics.beginStroke(stroke);\n    }\n\n    graphics.beginFill(particle.color || 0x008ced);\n    graphics.drawCircle(0, 0, particle.radius);\n    graphics.endFill();\n\n    return graphics;\n  }\n}\n","import Mat3 from \"../math/Mat3\";\n\nexport default class MStack {\n  constructor() {\n    this.mats = [];\n    this.size = 0;\n\n    for (let i = 0; i < 20; i++)\n      this.mats.push(Mat3.create([0, 0, 0, 0, 0, 0, 0, 0, 0]));\n  }\n\n  set(m, i) {\n    if (i === 0) Mat3.set(m, this.mats[0]);\n    else Mat3.multiply(this.mats[i - 1], m, this.mats[i]);\n\n    this.size = Math.max(this.size, i + 1);\n  }\n\n  push(m) {\n    if (this.size === 0) Mat3.set(m, this.mats[0]);\n    else Mat3.multiply(this.mats[this.size - 1], m, this.mats[this.size]);\n\n    this.size++;\n  }\n\n  pop() {\n    if (this.size > 0) this.size--;\n  }\n\n  top() {\n    return this.mats[this.size - 1];\n  }\n}\n","import Mat3 from '../math/Mat3';\nimport BaseRenderer from './BaseRenderer';\n\nimport Util from '../utils/Util';\nimport ImgUtil from '../utils/ImgUtil';\nimport MStack from '../utils/MStack';\nimport DomUtil from '../utils/DomUtil';\nimport WebGLUtil from '../utils/WebGLUtil';\nimport MathUtil from '../math/MathUtil';\n\nexport default class WebGLRenderer extends BaseRenderer {\n\n    constructor(element) {\n        super(element);\n\n        this.gl = this.element.getContext('experimental-webgl', { antialias: true, stencil: false, depth: false });\n        if (!this.gl) alert('Sorry your browser do not suppest WebGL!');\n\n        this.initVar();\n        this.setMaxRadius();\n        this.initShaders();\n        this.initBuffers();\n\n        this.gl.blendEquation(this.gl.FUNC_ADD);\n        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n        this.gl.enable(this.gl.BLEND);\n\n        this.addImg2Body = this.addImg2Body.bind(this);\n\n        this.name = 'WebGLRenderer';\n    }\n\n    init(proton) {\n        super.init(proton);\n        this.resize(this.element.width, this.element.height);\n    }\n\n    resize(width, height) {\n        this.umat[4] = -2;\n        this.umat[7] = 1;\n\n        this.smat[0] = 1 / width;\n        this.smat[4] = 1 / height;\n\n        this.mstack.set(this.umat, 0);\n        this.mstack.set(this.smat, 1);\n\n        this.gl.viewport(0, 0, width, height);\n        this.element.width = width;\n        this.element.height = height;\n    }\n\n    setMaxRadius(radius) {\n        this.circleCanvasURL = this.createCircle(radius);\n    }\n\n    getVertexShader() {\n        const vsSource = ['uniform vec2 viewport;', 'attribute vec2 aVertexPosition;', 'attribute vec2 aTextureCoord;', 'uniform mat3 tMat;', 'varying vec2 vTextureCoord;', 'varying float alpha;', 'void main() {', 'vec3 v = tMat * vec3(aVertexPosition, 1.0);', 'gl_Position = vec4(v.x, v.y, 0, 1);', 'vTextureCoord = aTextureCoord;', 'alpha = tMat[0][2];', '}'].join('\\n');\n        return vsSource;\n    }\n\n    getFragmentShader() {\n        const fsSource = ['precision mediump float;', 'varying vec2 vTextureCoord;', 'varying float alpha;', 'uniform sampler2D uSampler;', 'uniform vec4 color;', 'uniform bool useTexture;', 'uniform vec3 uColor;', 'void main() {', 'vec4 textureColor = texture2D(uSampler, vTextureCoord);', 'gl_FragColor = textureColor * vec4(uColor, 1.0);', 'gl_FragColor.w *= alpha;', '}'].join('\\n');\n        return fsSource;\n    }\n\n    initVar() {\n        this.mstack = new MStack();\n        this.umat = Mat3.create([2, 0, 1, 0, -2, 0, -1, 1, 1]);\n        this.smat = Mat3.create([1 / 100, 0, 1, 0, 1 / 100, 0, 0, 0, 1]);\n        this.texturebuffers = {};\n    }\n\n    blendEquation(A) {\n        this.gl.blendEquation(this.gl[A]);\n    }\n\n    blendFunc(A, B) {\n        this.gl.blendFunc(this.gl[A], this.gl[B]);\n    }\n\n    getShader(gl, str, fs) {\n        const shader = fs ? gl.createShader(gl.FRAGMENT_SHADER) : gl.createShader(gl.VERTEX_SHADER);\n\n        gl.shaderSource(shader, str);\n        gl.compileShader(shader);\n\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            alert(gl.getShaderInfoLog(shader));\n            return null;\n        }\n\n        return shader;\n    }\n\n    initShaders() {\n        const fragmentShader = this.getShader(this.gl, this.getFragmentShader(), true);\n        const vertexShader = this.getShader(this.gl, this.getVertexShader(), false);\n\n        this.sprogram = this.gl.createProgram();\n        this.gl.attachShader(this.sprogram, vertexShader);\n        this.gl.attachShader(this.sprogram, fragmentShader);\n        this.gl.linkProgram(this.sprogram);\n\n        if (!this.gl.getProgramParameter(this.sprogram, this.gl.LINK_STATUS))\n            alert('Could not initialise shaders');\n\n        this.gl.useProgram(this.sprogram);\n        this.sprogram.vpa = this.gl.getAttribLocation(this.sprogram, 'aVertexPosition');\n        this.sprogram.tca = this.gl.getAttribLocation(this.sprogram, 'aTextureCoord');\n        this.gl.enableVertexAttribArray(this.sprogram.tca);\n        this.gl.enableVertexAttribArray(this.sprogram.vpa);\n\n        this.sprogram.tMatUniform = this.gl.getUniformLocation(this.sprogram, 'tMat');\n        this.sprogram.samplerUniform = this.gl.getUniformLocation(this.sprogram, 'uSampler');\n        this.sprogram.useTex = this.gl.getUniformLocation(this.sprogram, 'useTexture');\n        this.sprogram.color = this.gl.getUniformLocation(this.sprogram, 'uColor');\n        this.gl.uniform1i(this.sprogram.useTex, 1);\n    };\n\n    initBuffers() {\n        const vs = [0, 3, 1, 0, 2, 3];\n        let idx;\n\n        this.unitIBuffer = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitIBuffer);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(vs), this.gl.STATIC_DRAW);\n\n        let i;\n        let ids = [];\n        for (i = 0; i < 100; i++) ids.push(i);\n        idx = new Uint16Array(ids);\n\n        this.unitI33 = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitI33);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, idx, this.gl.STATIC_DRAW);\n\n        ids = [];\n        for (i = 0; i < 100; i++) ids.push(i, i + 1, i + 2);\n        idx = new Uint16Array(ids);\n\n        this.stripBuffer = this.gl.createBuffer();\n        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.stripBuffer);\n        this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, idx, this.gl.STATIC_DRAW);\n    };\n\n    createCircle(raidus) {\n        this.circleCanvasRadius = WebGLUtil.nhpot(Util.initValue(raidus, 32));\n        const canvas = DomUtil.createCanvas('circle_canvas', this.circleCanvasRadius * 2, this.circleCanvasRadius * 2);\n        const context = canvas.getContext('2d');\n\n        context.beginPath();\n        context.arc(this.circleCanvasRadius, this.circleCanvasRadius, this.circleCanvasRadius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fillStyle = '#FFF';\n        context.fill();\n\n        return canvas.toDataURL();\n    };\n\n    drawImg2Canvas(particle) {\n        const _w = particle.body.width;\n        const _h = particle.body.height;\n\n        const _width = WebGLUtil.nhpot(particle.body.width);\n        const _height = WebGLUtil.nhpot(particle.body.height);\n\n        const _scaleX = particle.body.width / _width;\n        const _scaleY = particle.body.height / _height;\n\n        if (!this.texturebuffers[particle.data.src])\n            this.texturebuffers[particle.data.src] = [this.gl.createTexture(), this.gl.createBuffer(), this.gl.createBuffer()];\n\n        particle.data.texture = this.texturebuffers[particle.data.src][0];\n        particle.data.vcBuffer = this.texturebuffers[particle.data.src][1];\n        particle.data.tcBuffer = this.texturebuffers[particle.data.src][2];\n\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.tcBuffer);\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, _scaleX, 0.0, 0.0, _scaleY, _scaleY, _scaleY]), this.gl.STATIC_DRAW);\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.vcBuffer);\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, _w, 0.0, 0.0, _h, _w, _h]), this.gl.STATIC_DRAW);\n\n        const context = particle.data.canvas.getContext('2d');\n        const data = context.getImageData(0, 0, _width, _height);\n\n        this.gl.bindTexture(this.gl.TEXTURE_2D, particle.data.texture);\n        this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, data);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n        this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR_MIPMAP_NEAREST);\n        this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\n        particle.data.textureLoaded = true;\n        particle.data.textureWidth = _w;\n        particle.data.textureHeight = _h;\n    }\n\n    onProtonUpdate() {\n        // this.gl.clearColor(0, 0, 0, 1);\n        // this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\n    }\n\n    onParticleCreated(particle) {\n        particle.data.textureLoaded = false;\n        particle.data.tmat = Mat3.create();\n        particle.data.tmat[8] = 1;\n        particle.data.imat = Mat3.create();\n        particle.data.imat[8] = 1;\n\n        if (particle.body) {\n            ImgUtil.getImgFromCache(particle.body, this.addImg2Body, particle);\n        } else {\n            ImgUtil.getImgFromCache(this.circleCanvasURL, this.addImg2Body, particle);\n            particle.data.oldScale = particle.radius / this.circleCanvasRadius;\n        }\n    }\n\n    // private\n    addImg2Body(img, particle) {\n        if (particle.dead) return;\n        particle.body = img;\n        particle.data.src = img.src;\n        particle.data.canvas = ImgUtil.getCanvasFromCache(img);\n        particle.data.oldScale = 1;\n\n        this.drawImg2Canvas(particle);\n    }\n\n    onParticleUpdate(particle) {\n        if (particle.data.textureLoaded) {\n            this.updateMatrix(particle);\n\n            this.gl.uniform3f(this.sprogram.color, particle.rgb.r / 255, particle.rgb.g / 255, particle.rgb.b / 255);\n            this.gl.uniformMatrix3fv(this.sprogram.tMatUniform, false, this.mstack.top());\n\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.vcBuffer);\n            this.gl.vertexAttribPointer(this.sprogram.vpa, 2, this.gl.FLOAT, false, 0, 0);\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, particle.data.tcBuffer);\n            this.gl.vertexAttribPointer(this.sprogram.tca, 2, this.gl.FLOAT, false, 0, 0);\n            this.gl.bindTexture(this.gl.TEXTURE_2D, particle.data.texture);\n            this.gl.uniform1i(this.sprogram.samplerUniform, 0);\n            this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.unitIBuffer);\n\n            this.gl.drawElements(this.gl.TRIANGLES, 6, this.gl.UNSIGNED_SHORT, 0);\n\n            this.mstack.pop();\n        }\n    }\n\n    onParticleDead(particle) { }\n\n    updateMatrix(particle) {\n        const moveOriginMatrix = WebGLUtil.makeTranslation(-particle.data.textureWidth / 2, -particle.data.textureHeight / 2);\n        const translationMatrix = WebGLUtil.makeTranslation(particle.p.x, particle.p.y);\n\n        const angel = particle.rotation * (MathUtil.PI_180);\n        const rotationMatrix = WebGLUtil.makeRotation(angel);\n\n        const scale = particle.scale * particle.data.oldScale;\n        const scaleMatrix = WebGLUtil.makeScale(scale, scale);\n        let matrix = WebGLUtil.matrixMultiply(moveOriginMatrix, scaleMatrix);\n\n        matrix = WebGLUtil.matrixMultiply(matrix, rotationMatrix);\n        matrix = WebGLUtil.matrixMultiply(matrix, translationMatrix);\n\n        Mat3.inverse(matrix, particle.data.imat);\n        matrix[2] = particle.alpha;\n\n        this.mstack.push(matrix);\n    }\n}","import BaseRenderer from \"./BaseRenderer\";\n\nexport default class CustomRenderer extends BaseRenderer {\n  constructor(element) {\n    super(element);\n\n    this.name = \"CustomRenderer\";\n  }\n}\n","import Zone from \"./Zone\";\nimport Util from \"../utils/Util\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class LineZone extends Zone {\n  constructor(x1, y1, x2, y2, direction) {\n    super();\n\n    if (x2 - x1 >= 0) {\n      this.x1 = x1;\n      this.y1 = y1;\n      this.x2 = x2;\n      this.y2 = y2;\n    } else {\n      this.x1 = x2;\n      this.y1 = y2;\n      this.x2 = x1;\n      this.y2 = y1;\n    }\n\n    this.dx = this.x2 - this.x1;\n    this.dy = this.y2 - this.y1;\n\n    this.minx = Math.min(this.x1, this.x2);\n    this.miny = Math.min(this.y1, this.y2);\n    this.maxx = Math.max(this.x1, this.x2);\n    this.maxy = Math.max(this.y1, this.y2);\n\n    this.dot = this.x2 * this.y1 - this.x1 * this.y2;\n    this.xxyy = this.dx * this.dx + this.dy * this.dy;\n\n    this.gradient = this.getGradient();\n    this.length = this.getLength();\n    this.direction = Util.initValue(direction, \">\");\n  }\n\n  getPosition() {\n    this.random = Math.random();\n\n    this.vector.x =\n      this.x1 + this.random * this.length * Math.cos(this.gradient);\n    this.vector.y =\n      this.y1 + this.random * this.length * Math.sin(this.gradient);\n\n    return this.vector;\n  }\n\n  getDirection(x, y) {\n    const A = this.dy;\n    const B = -this.dx;\n    const C = this.dot;\n    const D = B === 0 ? 1 : B;\n\n    if ((A * x + B * y + C) * D > 0) return true;\n    else return false;\n  }\n\n  getDistance(x, y) {\n    const A = this.dy;\n    const B = -this.dx;\n    const C = this.dot;\n    const D = A * x + B * y + C;\n\n    return D / Math.sqrt(this.xxyy);\n  }\n\n  getSymmetric(v) {\n    const tha2 = v.getGradient();\n    const tha1 = this.getGradient();\n    const tha = 2 * (tha1 - tha2);\n\n    const oldx = v.x;\n    const oldy = v.y;\n\n    v.x = oldx * Math.cos(tha) - oldy * Math.sin(tha);\n    v.y = oldx * Math.sin(tha) + oldy * Math.cos(tha);\n\n    return v;\n  }\n\n  getGradient() {\n    return Math.atan2(this.dy, this.dx);\n  }\n\n  rangeOut(particle) {\n    const angle = Math.abs(this.getGradient());\n\n    if (angle <= MathUtil.PI / 4) {\n      if (particle.p.x <= this.maxx && particle.p.x >= this.minx) return true;\n    } else {\n      if (particle.p.y <= this.maxy && particle.p.y >= this.miny) return true;\n    }\n\n    return false;\n  }\n\n  getLength() {\n    return Math.sqrt(this.dx * this.dx + this.dy * this.dy);\n  }\n\n  crossing(particle) {\n    if (this.crossType === \"dead\") {\n      if (\n        this.direction === \">\" ||\n        this.direction === \"R\" ||\n        this.direction === \"right\" ||\n        this.direction === \"down\"\n      ) {\n        if (!this.rangeOut(particle)) return;\n        if (this.getDirection(particle.p.x, particle.p.y)) particle.dead = true;\n      } else {\n        if (!this.rangeOut(particle)) return;\n        if (!this.getDirection(particle.p.x, particle.p.y))\n          particle.dead = true;\n      }\n    } else if (this.crossType === \"bound\") {\n      if (!this.rangeOut(particle)) return;\n\n      if (this.getDistance(particle.p.x, particle.p.y) <= particle.radius) {\n        if (this.dx === 0) {\n          particle.v.x *= -1;\n        } else if (this.dy === 0) {\n          particle.v.y *= -1;\n        } else {\n          this.getSymmetric(particle.v);\n        }\n      }\n    } else if (this.crossType === \"cross\") {\n      if (this.alert) {\n        console.error(\"Sorry, LineZone does not support cross method!\");\n        this.alert = false;\n      }\n    }\n  }\n}\n","import Zone from \"./Zone\";\nimport MathUtil from \"../math/MathUtil\";\n\nexport default class CircleZone extends Zone {\n  constructor(x, y, radius) {\n    super();\n\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n\n    this.angle = 0;\n    this.center = { x, y };\n  }\n\n  getPosition() {\n    this.angle = MathUtil.PIx2 * Math.random();\n    this.randomRadius = Math.random() * this.radius;\n\n    this.vector.x = this.x + this.randomRadius * Math.cos(this.angle);\n    this.vector.y = this.y + this.randomRadius * Math.sin(this.angle);\n\n    return this.vector;\n  }\n\n  setCenter(x, y) {\n    this.center.x = x;\n    this.center.y = y;\n  }\n\n  crossing(particle) {\n    const d = particle.p.distanceTo(this.center);\n\n    if (this.crossType === \"dead\") {\n      if (d - particle.radius > this.radius) particle.dead = true;\n    } else if (this.crossType === \"bound\") {\n      if (d + particle.radius >= this.radius) this.getSymmetric(particle);\n    } else if (this.crossType === \"cross\") {\n      if (this.alert) {\n        console.error(\"Sorry, CircleZone does not support cross method!\");\n        this.alert = false;\n      }\n    }\n  }\n\n  getSymmetric(particle) {\n    let tha2 = particle.v.getGradient();\n    let tha1 = this.getGradient(particle);\n\n    let tha = 2 * (tha1 - tha2);\n    let oldx = particle.v.x;\n    let oldy = particle.v.y;\n\n    particle.v.x = oldx * Math.cos(tha) - oldy * Math.sin(tha);\n    particle.v.y = oldx * Math.sin(tha) + oldy * Math.cos(tha);\n  }\n\n  getGradient(particle) {\n    return (\n      -MathUtil.PI_2 +\n      Math.atan2(particle.p.y - this.center.y, particle.p.x - this.center.x)\n    );\n  }\n}\n","import Zone from \"./Zone\";\n\nexport default class RectZone extends Zone {\n  constructor(x, y, width, height) {\n    super();\n\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n\n  getPosition() {\n    this.vector.x = this.x + Math.random() * this.width;\n    this.vector.y = this.y + Math.random() * this.height;\n\n    return this.vector;\n  }\n\n  crossing(particle) {\n    // particle dead zone\n    if (this.crossType === \"dead\") {\n      if (particle.p.x + particle.radius < this.x) particle.dead = true;\n      else if (particle.p.x - particle.radius > this.x + this.width)\n        particle.dead = true;\n\n      if (particle.p.y + particle.radius < this.y) particle.dead = true;\n      else if (particle.p.y - particle.radius > this.y + this.height)\n        particle.dead = true;\n    }\n\n    // particle bound zone\n    else if (this.crossType === \"bound\") {\n      if (particle.p.x - particle.radius < this.x) {\n        particle.p.x = this.x + particle.radius;\n        particle.v.x *= -1;\n      } else if (particle.p.x + particle.radius > this.x + this.width) {\n        particle.p.x = this.x + this.width - particle.radius;\n        particle.v.x *= -1;\n      }\n\n      if (particle.p.y - particle.radius < this.y) {\n        particle.p.y = this.y + particle.radius;\n        particle.v.y *= -1;\n      } else if (particle.p.y + particle.radius > this.y + this.height) {\n        particle.p.y = this.y + this.height - particle.radius;\n        particle.v.y *= -1;\n      }\n    }\n\n    // particle cross zone\n    else if (this.crossType === \"cross\") {\n      if (particle.p.x + particle.radius < this.x && particle.v.x <= 0)\n        particle.p.x = this.x + this.width + particle.radius;\n      else if (\n        particle.p.x - particle.radius > this.x + this.width &&\n        particle.v.x >= 0\n      )\n        particle.p.x = this.x - particle.radius;\n\n      if (particle.p.y + particle.radius < this.y && particle.v.y <= 0)\n        particle.p.y = this.y + this.height + particle.radius;\n      else if (\n        particle.p.y - particle.radius > this.y + this.height &&\n        particle.v.y >= 0\n      )\n        particle.p.y = this.y - particle.radius;\n    }\n  }\n}\n","import Zone from \"./Zone\";\nimport Util from \"../utils/Util\";\n\nexport default class ImageZone extends Zone {\n  constructor(imageData, x, y, d) {\n    super();\n\n    this.reset(imageData, x, y, d);\n  }\n\n  reset(imageData, x, y, d) {\n    this.imageData = imageData;\n    this.x = Util.initValue(x, 0);\n    this.y = Util.initValue(y, 0);\n    this.d = Util.initValue(d, 2);\n\n    this.vectors = [];\n    this.setVectors();\n  }\n\n  setVectors() {\n    let i, j;\n    const length1 = this.imageData.width;\n    const length2 = this.imageData.height;\n\n    for (i = 0; i < length1; i += this.d) {\n      for (j = 0; j < length2; j += this.d) {\n        let index = ((j >> 0) * length1 + (i >> 0)) * 4;\n\n        if (this.imageData.data[index + 3] > 0) {\n          this.vectors.push({ x: i + this.x, y: j + this.y });\n        }\n      }\n    }\n\n    return this.vector;\n  }\n\n  getBound(x, y) {\n    var index = ((y >> 0) * this.imageData.width + (x >> 0)) * 4;\n    if (this.imageData.data[index + 3] > 0) return true;\n    else return false;\n  }\n\n  getPosition() {\n    const vector = Util.getRandFromArray(this.vectors);\n    return this.vector.copy(vector);\n  }\n\n  getColor(x, y) {\n    x -= this.x;\n    y -= this.y;\n    var i = ((y >> 0) * this.imageData.width + (x >> 0)) * 4;\n\n    return {\n      r: this.imageData.data[i],\n      g: this.imageData.data[i + 1],\n      b: this.imageData.data[i + 2],\n      a: this.imageData.data[i + 3]\n    };\n  }\n\n  crossing(particle) {\n    if (this.crossType === \"dead\") {\n      if (this.getBound(particle.p.x - this.x, particle.p.y - this.y))\n        particle.dead = true;\n      else particle.dead = false;\n    } else if (this.crossType === \"bound\") {\n      if (!this.getBound(particle.p.x - this.x, particle.p.y - this.y))\n        particle.v.negate();\n    }\n  }\n}\n","import ColorUtil from \"../utils/ColorUtil\";\nimport CircleZone from \"../zone/CircleZone\";\nimport PointZone from \"../zone/PointZone\";\nimport LineZone from \"../zone/LineZone\";\nimport RectZone from \"../zone/RectZone\";\n\nexport default {\n  addEventListener(proton, func) {\n    proton.addEventListener(\"PROTON_UPDATE_AFTER\", () => func());\n  },\n\n  getStyle(color = \"#ff0000\") {\n    const rgb = ColorUtil.hexToRgb(color);\n    return `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, 0.5)`;\n  },\n\n  drawZone(proton, canvas, zone, clear) {\n    const context = canvas.getContext(\"2d\");\n    const style = this.getStyle();\n\n    this.addEventListener(proton, () => {\n      if (clear) context.clearRect(0, 0, canvas.width, canvas.height);\n\n      if (zone instanceof PointZone) {\n        context.beginPath();\n        context.fillStyle = style;\n        context.arc(zone.x, zone.y, 10, 0, Math.PI * 2, true);\n        context.fill();\n        context.closePath();\n      } else if (zone instanceof LineZone) {\n        context.beginPath();\n        context.strokeStyle = style;\n        context.moveTo(zone.x1, zone.y1);\n        context.lineTo(zone.x2, zone.y2);\n        context.stroke();\n        context.closePath();\n      } else if (zone instanceof RectZone) {\n        context.beginPath();\n        context.strokeStyle = style;\n        context.drawRect(zone.x, zone.y, zone.width, zone.height);\n        context.stroke();\n        context.closePath();\n      } else if (zone instanceof CircleZone) {\n        context.beginPath();\n        context.strokeStyle = style;\n        context.arc(zone.x, zone.y, zone.radius, 0, Math.PI * 2, true);\n        context.stroke();\n        context.closePath();\n      }\n    });\n  },\n\n  drawEmitter(proton, canvas, emitter, clear) {\n    const context = canvas.getContext(\"2d\");\n    const style = this.getStyle();\n\n    this.addEventListener(proton, () => {\n      if (clear) context.clearRect(0, 0, canvas.width, canvas.height);\n\n      context.beginPath();\n      context.fillStyle = style;\n      context.arc(emitter.p.x, emitter.p.y, 10, 0, Math.PI * 2, true);\n      context.fill();\n      context.closePath();\n    });\n  }\n};\n","import Proton from \"./core/Proton\";\nimport Particle from \"./core/Particle\";\nimport Pool from \"./core/Pool\";\n\nimport Util from \"./utils/Util\";\nimport ColorUtil from \"./utils/ColorUtil\";\nimport MathUtil from \"./math/MathUtil\";\nimport Vector2D from \"./math/Vector2D\";\nimport Polar2D from \"./math/Polar2D\";\nimport Mat3 from \"./math/Mat3\";\nimport Span from \"./math/Span\";\nimport ArraySpan from \"./math/ArraySpan\";\nimport Rectangle from \"./math/Rectangle\";\nimport ease from \"./math/ease\";\n\nimport Rate from \"./initialize/Rate\";\nimport Initialize from \"./initialize/Initialize\";\nimport Life from \"./initialize/Life\";\nimport Position from \"./initialize/Position\";\nimport Velocity from \"./initialize/Velocity\";\nimport Mass from \"./initialize/Mass\";\nimport Radius from \"./initialize/Radius\";\nimport Body from \"./initialize/Body\";\n\nimport Behaviour from \"./behaviour/Behaviour\";\nimport Force from \"./behaviour/Force\";\nimport Attraction from \"./behaviour/Attraction\";\nimport RandomDrift from \"./behaviour/RandomDrift\";\nimport Gravity from \"./behaviour/Gravity\";\nimport Collision from \"./behaviour/Collision\";\nimport CrossZone from \"./behaviour/CrossZone\";\nimport Alpha from \"./behaviour/Alpha\";\nimport Scale from \"./behaviour/Scale\";\nimport Rotate from \"./behaviour/Rotate\";\nimport Color from \"./behaviour/Color\";\nimport Cyclone from \"./behaviour/Cyclone\";\nimport Repulsion from \"./behaviour/Repulsion\";\nimport GravityWell from \"./behaviour/GravityWell\";\n\nimport Emitter from \"./emitter/Emitter\";\nimport BehaviourEmitter from \"./emitter/BehaviourEmitter\";\nimport FollowEmitter from \"./emitter/FollowEmitter\";\n\nimport CanvasRenderer from \"./render/CanvasRenderer\";\nimport DomRenderer from \"./render/DomRenderer\";\nimport EaselRenderer from \"./render/EaselRenderer\";\nimport PixelRenderer from \"./render/PixelRenderer\";\nimport PixiRenderer from \"./render/PixiRenderer\";\nimport WebGLRenderer from \"./render/WebGLRenderer\";\nimport CustomRenderer from \"./render/CustomRenderer\";\n\nimport Zone from \"./zone/Zone\";\nimport LineZone from \"./zone/LineZone\";\nimport CircleZone from \"./zone/CircleZone\";\nimport PointZone from \"./zone/PointZone\";\nimport RectZone from \"./zone/RectZone\";\nimport ImageZone from \"./zone/ImageZone\";\n\nimport Debug from \"./debug/Debug\";\n\n// namespace\nProton.Particle = Particle;\nProton.Pool = Pool;\n\nProton.Util = Util;\nProton.ColorUtil = ColorUtil;\nProton.MathUtil = MathUtil;\nProton.Vector2D = Proton.Vector = Vector2D;\nProton.Polar2D = Proton.Polar = Polar2D;\nProton.ArraySpan = ArraySpan;\nProton.Rectangle = Rectangle;\nProton.Rate = Rate;\nProton.ease = ease;\nProton.Span = Span;\nProton.Mat3 = Mat3;\nProton.getSpan = (a, b, center) => new Span(a, b, center);\nProton.createArraySpan = ArraySpan.createArraySpan;\n\nProton.Initialize = Proton.Init = Initialize;\nProton.Life = Proton.L = Life;\nProton.Position = Proton.P = Position;\nProton.Velocity = Proton.V = Velocity;\nProton.Mass = Proton.M = Mass;\nProton.Radius = Proton.R = Radius;\nProton.Body = Proton.B = Body;\n\nProton.Behaviour = Behaviour;\nProton.Force = Proton.F = Force;\nProton.Attraction = Proton.A = Attraction;\nProton.RandomDrift = Proton.RD = RandomDrift;\nProton.Gravity = Proton.G = Gravity;\nProton.Collision = Collision;\nProton.CrossZone = CrossZone;\nProton.Alpha = Alpha;\nProton.Scale = Proton.S = Scale;\nProton.Rotate = Rotate;\nProton.Color = Color;\nProton.Repulsion = Repulsion;\nProton.Cyclone = Cyclone;\nProton.GravityWell = GravityWell;\n\nProton.Emitter = Emitter;\nProton.BehaviourEmitter = BehaviourEmitter;\nProton.FollowEmitter = FollowEmitter;\n\nProton.Zone = Zone;\nProton.LineZone = LineZone;\nProton.CircleZone = CircleZone;\nProton.PointZone = PointZone;\nProton.RectZone = RectZone;\nProton.ImageZone = ImageZone;\n\nProton.CanvasRenderer = CanvasRenderer;\nProton.DomRenderer = DomRenderer;\nProton.EaselRenderer = EaselRenderer;\nProton.PixiRenderer = PixiRenderer;\nProton.PixelRenderer = PixelRenderer;\nProton.WebGLRenderer = Proton.WebGlRenderer = WebGLRenderer;\nProton.CustomRenderer = CustomRenderer;\n\nProton.Debug = Debug;\nUtil.assign(Proton, ease);\n\n// export\nexport default Proton;\n"],"names":["PI","INFINITY","Infinity","MathUtil","num","a","b","isInt","Math","random","floor","center","f","randomAToB","toString","slice","display","k","digits","pow","Span","Util","isArray","initValue","getRandFromArray","randomFloating","c","undefined","pan","getValue","length","i","tx","ty","angleInRadians","cos","s","sin","sx","sy","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","id","width","height","position","dom","document","createElement","style","opacity","transform","resize","marginLeft","marginTop","div","x","y","scale","rotate","willChange","css3","key","val","bkey","charAt","toUpperCase","substr","imgsCache","canvasCache","canvasId","context","image","rect","drawImage","imagedata","getImageData","clearRect","img","callback","param","src","Image","onload","e","target","WebGLUtil","nhpot","canvas","DomUtil","createCanvas","getContext","value","defaults","Object","prototype","call","arr","obj","ignore","indexOf","constructor","args","FactoryFunc","bind","apply","concat","particle","conf","hasProp","p","v","copy","props","prop","hasOwnProperty","getSpanValue","ImgUtil","destroy","source","assign","idsMap","Puid","type","uid","getIdFromCache","_index","_cache","isBody","isInner","Pool","total","cache","params","__puid","getId","pop","createOrClone","getCache","push","create","classApply","clone","count","Stats","proton","container","emitterIndex","rendererIndex","body","add","emitter","getEmitter","renderer","getRenderer","str","emitters","emitSpeed","getEmitterPos","initializes","concatArr","behaviours","name","getCreatedNumber","getCount","pool","innerHTML","cssText","join","addEventListener","bg","color","parentNode","appendChild","renderers","result","cpool","round","EventDispatcher","_listeners","listener","removeEventListener","splice","listeners","handler","dispatchEvent","hasEventListener","removeAllEventListeners","Integration","particles","time","damping","eulerIntegrate","sleep","old","multiplyScalar","mass","clear","Proton","integrationType","now","then","elapsed","stats","EULER","integrator","_fps","_interval","DEFAULT_INTERVAL","render","init","index","remove","parent","EMITTER_ADDED","EMITTER_REMOVED","PROTON_UPDATE","USE_CLOCK","Date","getTime","amendChangeTabsBug","emittersUpdate","PROTON_UPDATE_AFTER","update","destroyAll","destroyOther","getAllParticles","fps","MEASURE","RK2","PARTICLE_CREATED","PARTICLE_UPDATE","PARTICLE_SLEEP","PARTICLE_DEAD","Rgb","r","g","PI_2","sqrt","ease","easeLinear","Vector2D","atan2","w","addVectors","subVectors","set","divideScalar","distanceToSquared","tha","dx","dy","alpha","Particle","data","rgb","reset","setProp","N180_PI","life","age","dead","sprite","energy","radius","rotation","easing","emptyObject","removeAllBehaviours","applyBehaviours","max","applyBehaviour","behaviour","parents","initialize","addBehaviour","emptyArray","h","hex16","substring","parseInt","rbg","Number","Polar2D","abs","getX","getY","Mat3","mat3","mat","Float32Array","mat1","mat2","d","m","vec","ArraySpan","_arr","toArray","randomColor","Rectangle","bottom","right","Rate","numpan","timepan","numPan","setSpanValue","timePan","startTime","nextTime","Initialize","Life","lifePan","Zone","vector","crossType","alert","PointZone","error","Position","zone","getPosition","Velocity","rpan","thapan","rPan","thaPan","vr","polar2d","normalizeVelocity","PI_180","Mass","massPan","Radius","oldRadius","Body","imageTarget","Behaviour","getEasing","force","removeBehaviour","Force","fx","fy","normalizeForce","calculate","Attraction","targetPosition","normalizeValue","radiusSq","attractionForce","lengthSq","sub","normalize","RandomDrift","driftX","driftY","delay","panFoce","addXY","Gravity","Collision","collisionPool","delta","newPool","otherParticle","overlap","totalMass","averageMass1","averageMass2","distance","CrossZone","crossing","Alpha","same","alphaA","alphaB","Scale","scaleA","scaleB","Rotate","influence","rotationA","rotationB","getDirection","Color","createArraySpan","colorA","ColorUtil","hexToRgb","colorB","CHANGING","Cyclone","angle","setAngleAndForce","span","String","toLowerCase","cangle","cyclone","gradient","getGradient","Repulsion","GravityWell","centerPoint","distanceVec","distanceSq","factor","bindEmitter","setVectorVal","degreeTransform","Emitter","emitTime","totalTime","rate","stoped","isNaN","oldStoped","oldEmitTime","oldTotalTime","step","initAll","rest","initializer","arguments","emitting","integrate","dispatch","expire","event","bindEvent","createParticle","get","setupParticle","addBehaviours","stop","removeAllInitializers","removeEmitter","BehaviourEmitter","selfBehaviours","FollowEmitter","mouseTarget","window","_allowEmitting","initEventHandler","mousemoveHandler","mousemove","mousedownHandler","mousedown","mouseupHandler","mouseup","layerX","layerY","offsetX","offsetY","babelHelpers.get","BaseRenderer","element","stroke","circleConf","isCircle","initHandler","thinkness","_protonUpdateHandler","onProtonUpdate","_protonUpdateAfterHandler","onProtonUpdateAfter","_emitterAddedHandler","onEmitterAdded","_emitterRemovedHandler","onEmitterRemoved","_particleCreatedHandler","onParticleCreated","_particleUpdateHandler","onParticleUpdate","_particleDeadHandler","onParticleDead","CanvasRenderer","bufferCache","getImgFromCache","addImg2Body","drawCircle","buffer","createBuffer","bufContext","globalAlpha","globalCompositeOperation","fillStyle","rgbToHex","fillRect","save","translate","restore","beginPath","arc","strokeStyle","lineWidth","closePath","fill","size","DomRenderer","createBody","transform3d","bodyReady","backgroundColor","removeChild","babelHelpers.typeof","createCircle","createSprite","createDiv","borderRadius","borderColor","borderWidth","url","backgroundImage","EaselRenderer","addChild","scaleX","scaleY","graphics","regX","regY","createjs","Graphics","beginStroke","beginFill","shape","Shape","PixelRenderer","rectangle","imageData","createImageData","putImageData","setPixel","elementwidth","PIXIClass","PixiRenderer","setColor","blendMode","setPIXI","PIXI","Sprite","createFromImage","from","fromImage","tint","getHex16FromParticle","anchor","endFill","MStack","mats","multiply","WebGLRenderer","gl","antialias","stencil","depth","initVar","setMaxRadius","initShaders","initBuffers","blendEquation","FUNC_ADD","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","enable","BLEND","umat","smat","mstack","viewport","circleCanvasURL","vsSource","fsSource","texturebuffers","A","B","fs","shader","createShader","FRAGMENT_SHADER","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","fragmentShader","getShader","getFragmentShader","vertexShader","getVertexShader","sprogram","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","useProgram","vpa","getAttribLocation","tca","enableVertexAttribArray","tMatUniform","getUniformLocation","samplerUniform","useTex","uniform1i","vs","idx","unitIBuffer","bindBuffer","ELEMENT_ARRAY_BUFFER","bufferData","Uint16Array","STATIC_DRAW","ids","unitI33","stripBuffer","raidus","circleCanvasRadius","toDataURL","_w","_h","_width","_height","_scaleX","_scaleY","createTexture","texture","vcBuffer","tcBuffer","ARRAY_BUFFER","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_NEAREST","generateMipmap","textureLoaded","textureWidth","textureHeight","tmat","imat","oldScale","getCanvasFromCache","drawImg2Canvas","updateMatrix","uniform3f","uniformMatrix3fv","top","vertexAttribPointer","FLOAT","drawElements","TRIANGLES","UNSIGNED_SHORT","moveOriginMatrix","makeTranslation","translationMatrix","angel","rotationMatrix","makeRotation","scaleMatrix","makeScale","matrix","matrixMultiply","inverse","CustomRenderer","LineZone","x1","y1","x2","y2","direction","minx","min","miny","maxx","maxy","dot","xxyy","getLength","C","D","tha2","tha1","oldx","oldy","rangeOut","getDistance","getSymmetric","CircleZone","PIx2","randomRadius","distanceTo","RectZone","ImageZone","vectors","setVectors","j","length1","length2","getBound","negate","func","getStyle","moveTo","lineTo","drawRect","Vector","Polar","getSpan","Init","L","P","V","M","R","F","RD","G","S","WebGlRenderer","Debug"],"mappings":"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"}